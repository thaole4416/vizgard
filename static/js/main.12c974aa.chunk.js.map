{"version":3,"sources":["redux/actions/datasets.ts","styles/theme.ts","components/common/Grid.tsx","components/common/Typography.tsx","components/datasets/Header.tsx","components/common/Alert.tsx","components/datasets/Create.tsx","components/datasets/Sidebar.tsx","components/datasets/DataSets.tsx","views/Datasets.tsx","components/datasets/Annotation.tsx","components/datasets/â€ŽAnnotableImages.tsx","components/datasets/Detail.tsx","components/datasets/Edit.tsx","views/Dataset.tsx","assets/images/blacklogo.jpg","utils/socket.ts","components/client/Features.tsx","redux/actions/serverInfo.ts","utils/string.ts","redux/actions/socket.ts","components/client/Header.tsx","components/client/Client.tsx","utils/canvas.ts","views/Home.tsx","assets/images/logo.jpg","components/common/Header.tsx","components/common/Footer.tsx","routes/AppRouter.tsx","redux/actions/features.ts","redux/actions/objects.ts","redux/reducers/features.ts","redux/actions/notification.ts","redux/reducers/objects.ts","redux/reducers/serverInfo.ts","redux/reducers/notification.ts","redux/reducers/datasets.ts","redux/index.ts","redux/reducers/socket.ts","components/common/Socket.tsx","components/common/Notification.tsx","App.tsx","index.tsx"],"names":["DataSetsActionTypes","theme","color","primary","secondary","white","black","breakpoints","down","sm","md","useStyles","makeStyles","root","display","justifyContent","alignItems","interactive","cursor","Grid","className","children","props","classes","clsx","defaultProps","fontWeight","fontSize","Typography","container","width","borderRight","header","borderBottom","height","margin","button","border","background","padding","marginLeft","Header","title","datasets","useSelector","s","pathname","useLocation","id","split","pop","Number","name","includes","type","fontFamily","lineHeight","borderRadius","letterSpacing","backgroundColor","wordBreak","error","info","success","message","Alert","variant","label","input","wrapper","inner","grid","gridTemplateColumns","gridAutoRows","gridGap","gridItem","position","imagePreview","objectFit","fileInput","Create","dispatch","useDispatch","history","useHistory","useState","setName","images","setImages","setError","useRef","readFileAsDataURL","file","Promise","res","rej","reader","FileReader","onloadend","result","onerror","readAsDataURL","onSubmit","e","preventDefault","length","imageToAdd","map","src","i","regions","payload","CREATE_DATASET","push","htmlFor","value","onChange","target","ref","multiple","accept","readers","files","all","then","values","onClick","current","click","alt","marginTop","h1","marginBottom","subMenu","paddingLeft","Sidebar","search","goBack","list","paddingBottom","overflowY","listItem","text","flex","image","DataSets","isCreate","setIsCreate","handleDeleteDataset","DELETE_DATASET","useEffect","ds","stopPropagation","style","DatasetsView","Annotation","onExit","labelImages","regionClsList","data","annotations","UPDATE_DATASET","canvas","img","drawBox","context","imageElem","points","strokeStyle","fillStyle","strokeRect","offsetLeft","x","offsetTop","y","w","h","fillRect","drawPolygon","moveTo","forEach","p","lineTo","closePath","stroke","fill","AnnotableImages","handleClick","showMore","setShowMore","showMoreFilter","v","filter","document","querySelector","canvasElem","previousElementSibling","containerElem","parentElement","getContext","offsetWidth","offsetHeight","beginPath","region","pixelSize","onLoad","handleImageLoaded","details","subContainer","maxWidth","processOption","Detail","open","setIsOpen","useRouteMatch","params","ADD_IMAGES","contentStyle","closeOnDocumentClick","onClose","imagesPreview","flexWrap","Edit","index","RENAME_DATASET","main","DatasetView","match","path","url","component","exact","sendSocketMessage","socket","readyState","send","ServerInfoActionTypes","features","flexDirection","paddingTop","feature","version","Features","serverInfo","handleChangeFeatures","replace","letter","toLowerCase","detection","checked","Boolean","Object","keys","k","model","str","substr","toUpperCase","singleTracking","faceRedaction","aruco","stabilization","graphicsDisplay","cameraCalibration","SocketActionTypes","closeSocket","CLOSE_SOCKET","outline","address","setAddress","port","setPort","role","close","SHUTDOWN_SERVER","CONNECT_SERVER","connectServer","mainSection","mainInfo","video","videoInput","textAlign","preview","top","left","json","Client","serverIn","setServerIn","serverOut","setServerOut","clientIn","setClientIn","videoSrc","setVideoSrc","objects","clearRect","lineWidth","rect","drawRect","fpsCap","fpsDet","delay","blackLogo","autoPlay","data-vscid","onMouseUp","getBoundingClientRect","parseInt","clientX","toString","clientY","JSON","stringify","HomeView","navItem","textDecoration","navItems","link","activeTab","setActiveTab","window","location","logo","item","to","footer","bottom","right","marginRight","Footer","AppRouter","FeatureActionTypes","ObjectsActionTypes","initialState","NotificationActionTypes","isConnect","reducers","combineReducers","state","action","newState","_","SAVE_FEATURES","notification","SEND_MESSAGE","HIDE_MESSAGE","SAVE_OBJECTS","SAVE_VIDEO_INFO","SAVE_SERVER_INFO","WebSocket","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reduxStore","createStore","applyMiddleware","Socket","onmessage","parse","saveVideoInfo","saveServerInfo","saveFeatures","onclose","transform","zIndex","snackbar","boxShadow","opacity","transition","warning","Snackbar","setTimeout","App","store","ReactDOM","render","getElementById"],"mappings":"mJAGYA,E,mGAAAA,K,2CAAAA,E,2CAAAA,E,mCAAAA,E,2CAAAA,E,4CAAAA,M,KA8CL,IChCQC,EAfM,CACjBC,MAAO,CACHC,QAAS,UACTC,UAAW,UACXC,MAAO,QACPC,MAAO,SAEXC,YAAa,CACTC,KAAM,CACFC,GAAI,+BACJC,GAAI,mC,wBCYVC,EAAYC,aAAW,iBAAO,CAClCC,KAAM,kBAAkE,CACtEC,QAAS,OACTC,eAFI,EAAGA,eAGPC,WAHI,EAAmBA,aAKzBC,YAAa,CACXC,OAAQ,eAIG,SAASC,EAAT,GAMc,IAL3BJ,EAK0B,EAL1BA,eACAK,EAI0B,EAJ1BA,UACAJ,EAG0B,EAH1BA,WACAK,EAE0B,EAF1BA,SACGC,EACuB,sEACpBC,EAAUZ,EAAU,CAAEI,iBAAgBC,eAC5C,OAAO,+CAASM,GAAT,IAAgBF,UAAWI,YAAKD,EAAQV,KAAMO,GAA9C,SAA2DC,KAGpEF,EAAKM,aAAe,CAClBV,eAAgB,GAChBC,WAAY,GACZI,UAAW,ICrCb,IAAMT,EAAYC,aAAW,iBAAO,CAClCC,KAAM,gBACJa,EADI,EACJA,WACAC,EAFI,EAEJA,SAFI,MAI6D,CACjED,aACAxB,MANI,EAGJA,MAIAyB,SAAS,GAAD,OAAKA,EAAL,SAEVV,YAAa,CACXC,OAAQ,eAIG,SAASU,EAAT,GAOoB,IANjCF,EAMgC,EANhCA,WACAC,EAKgC,EALhCA,SACAzB,EAIgC,EAJhCA,MACAmB,EAGgC,EAHhCA,SACAJ,EAEgC,EAFhCA,YACGK,EAC6B,0EAC1BC,EAAUZ,EAAU,CAAEe,aAAYC,WAAUzB,UAClD,OAAO,6CAAOoB,GAAP,IAAcF,UAAWI,YAAKD,EAAQV,KAAMI,GAAeM,EAAQN,aAAnE,SAAkFI,KAG3FO,EAAWH,aAAe,CACxBR,aAAa,EACbf,MAAO,QACPyB,SAAU,EACVD,WAAY,GCpCd,IAAMf,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACTC,MAAO,MACPC,YAAa,qBAEfC,OAAQ,CACNC,aAAc,oBACdC,OAAQ,OACR,SAAU,CACRC,OAAQ,4BAGZC,OAAQ,CACNC,OAAQ,OACRC,WAAYrC,EAAMC,MAAMC,QACxBD,MAAOD,EAAMC,MAAMG,MACnBkC,QAAS,WACTC,WAAY,YAQD,SAASC,EAAT,GAAsD,IAAD,EAAnCC,EAAmC,EAAnCA,MACzBnB,EAAUZ,IACVgC,EAAWC,aAA0C,SAACC,GAAD,OAAOA,EAAEF,YAC5DG,EAAaC,cAAbD,SACFE,EAAKF,EAASG,MAAM,KAAKC,MAC/B,OACE,yBAAQ9B,UAAWG,EAAQS,OAA3B,UACGgB,EAAK,uCAAKL,EAASQ,OAAOH,WAArB,aAAK,EAAsBI,OAAa,oCAAKV,QAAL,IAAKA,IAAS,aAC3DM,IAAOF,EAASO,SAAS,SACxB,wBAAQC,KAAK,SAASlC,UAAWG,EAAQa,OAAzC,yBAQRK,EAAOhB,aAAe,CACpBiB,MAAO,IC9CT,IAAM/B,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACTf,QAAS,OACTyB,QAAS,WACTgB,WAAY,6CACZ7B,WAAY,IACZC,SAAU,SACV6B,WAAY,KACZC,aAAc,MACdC,cAAe,YACfC,gBAAiB,cACjBC,UAAW,aACXzB,OAAQ,YAEV0B,MAAO,CACL3D,MAAO,kBACPyD,gBAAiB,sBAEnBG,KAAM,CACJ5D,MAAO,kBACPyD,gBAAiB,sBAEnBI,QAAS,CACP7D,MAAO,kBACPyD,gBAAiB,sBAEnBK,QAAS,CACP9D,MAAO,UACPoC,WAAY,eASD,SAAS2B,EAAT,GAAiE,IAAhDC,EAA+C,EAA/CA,QAAS7C,EAAsC,EAAtCA,SACjCE,EAAUZ,IAChB,OACE,qBACES,UAAWI,YACTD,EAAQM,UACI,UAAZqC,GAAuB3C,EAAQsC,MACnB,SAAZK,GAAsB3C,EAAQuC,KAClB,YAAZI,GAAyB3C,EAAQwC,SALrC,SAQG1C,IC3CP,IAAMV,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACTC,MAAO,OAETM,OAAQ,CACNC,OAAQ,oBACRC,WAAY,UACZC,QAAS,YAEX4B,MAAO,CACLrC,MAAO,KAETsC,MAAO,CACLtC,MAAO,KAETuC,QAAS,GACTC,MAAO,GACPC,KAAM,CACJzD,QAAS,OACT0D,oBAAqB,0BACrBC,aAAc,OACdC,QAAS,UAEXC,SAAU,CACRC,SAAU,WACV9D,QAAS,OACTE,WAAY,SACZD,eAAgB,UAElB8D,aAAc,CACZ/C,MAAO,OACPI,OAAQ,OACR4C,UAAW,SAEbC,UAAW,CACTjE,QAAS,YAGE,SAASkE,IACtB,IAAMzD,EAAUZ,IACVsE,EAAWC,cACXC,EAAUC,cAH6B,EAIrBC,mBAAiB,IAJI,mBAItCjC,EAJsC,KAIhCkC,EAJgC,OAKjBD,mBAAmB,IALF,mBAKtCE,EALsC,KAK9BC,EAL8B,OAMnBH,oBAAkB,GANC,mBAMtCxB,EANsC,KAM/B4B,EAN+B,KAOvCV,EAAYW,iBAAyB,MAmBrCC,EAAoB,SAACC,GAAD,OACxB,IAAIC,SAAQ,SAACC,EAAKC,GAChB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,UAAY,WACbF,GAAUA,EAAOG,QACnBL,EAAIE,EAAOG,SAGfH,EAAOI,QAAU,WACfL,EAAIC,IAENA,EAAOK,cAAcT,OAczB,OACE,sBAAKxE,UAAWG,EAAQM,UAAxB,UACE,cAACY,EAAD,CAAQC,MAAM,gBACd,uBAAM4D,SAzCW,SAACC,GAEpB,GADAA,EAAEC,iBACEpD,GAAQmC,EAAOkB,OAAS,EAAG,CAC7B,IAAMC,EAAanB,EAAOoB,KAAI,SAACC,EAAKC,GAAN,MAAa,CACzCzD,KAAK,SAAD,OAAWyD,EAAI,GACnBD,MACAE,QAAS,OAEX7B,GNnBwB8B,EMmBD,CAAE3D,OAAMmC,OAAQmB,GNnB4B,CACvEpD,KAAMtD,EAAoBgH,eAC1BD,aMkBI5B,EAAQ8B,KAAK,kBAERxB,GAAS,GNtBS,IAACsB,GMoDxB,UACE,sBAAK3F,UAAU,MAAf,UACE,uBAAO8F,QAAQ,OAAO9F,UAAWG,EAAQ4C,MAAzC,kBAGA,uBACEnB,GAAG,OACH5B,UAAWG,EAAQ6C,MACnB+C,MAAO/D,EACPgE,SAAU,SAACb,GAAD,OAAOjB,EAAQiB,EAAEc,OAAOF,UAEnCtD,IAAUT,GAAQ,qBAAKhC,UAAU,OAAf,SAAsB,cAAC6C,EAAD,CAAOC,QAAQ,QAAf,mCAE3C,sBAAK9C,UAAU,MAAf,UACE,uBAAO8F,QAAQ,OAAO9F,UAAWG,EAAQ4C,MAAzC,oBAGA,uBACEnB,GAAG,OACHM,KAAK,OACLlC,UAAWG,EAAQwD,UACnBuC,IAAKvC,EACLwC,UAAQ,EACRC,OAAO,oBACPJ,SAtCiB,SAACb,GAC1B,IAAMkB,EAAU,GACRC,EAAUnB,EAAEc,OAAZK,MACR,GAAIA,GAASA,EAAMjB,OACjB,IAAK,IAAII,EAAI,EAAGA,EAAIa,EAAMjB,OAAQI,IAChCY,EAAQR,KAAKtB,EAAkB+B,EAAMb,KAGzChB,QAAQ8B,IAAIF,GAASG,MAAK,SAACC,GAAD,OAAYrC,EAAUqC,MAChDtB,EAAEC,oBA+BI,wBACElD,KAAK,SACLlC,UAAWG,EAAQa,OACnB0F,QA3EgB,WACC,IAAD,EAAN,OAAd/C,IACF,UAAAA,EAAUgD,eAAV,SAAmBC,UAsEf,2BAOA,qBAAK5G,UAAWI,YAAKD,EAAQgD,KAAM,QAAnC,SACGgB,EAAOoB,KAAI,SAACC,EAAKC,GAAN,OACV,qBAA4BzF,UAAWG,EAAQoD,SAA/C,SAEE,qBAEEsD,IAAI,GACJrB,IAAKA,EACLxF,UAAWI,YAAKD,EAAQsD,eAJ1B,gBACgBgC,EAAI,KAHtB,gBAAmBA,EAAI,SAY1BhD,GAAS0B,EAAOkB,QAAU,EAAI,qBAAKrF,UAAU,OAAf,SAAsB,cAAC6C,EAAD,CAAOC,QAAQ,QAAf,mCAA2D,QAElH,wBAAQZ,KAAK,SAASlC,UAAWI,YAAKD,EAAQa,OAAQ,OAAtD,0B,sBChJFzB,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACTC,MAAO,MACPC,YAAa,qBAEfK,OAAQ,CACNC,OAAQ,oBACRC,WAAY,UACZC,QAAS,WACTzB,QAAS,QACTgB,MAAO,MACPK,OAAQ,OACR+F,UAAW,QAEbC,GAAI,CACF5F,QAAS,yBACT6F,aAAc,IACdlG,OAAQ,QAEVmG,QAAS,CACP9F,QAAS,QACT+F,YAAa,OACbhG,WAAY,eAGD,SAASiG,IACtB,IAAMhH,EAAUZ,IACVwE,EAAUC,cACRtC,EAAaC,cAAbD,SACR,OACE,qBAAK1B,UAAWG,EAAQM,UAAxB,SACGiB,EAAS0F,OAAO,uBAAyB,EACxC,wBACElF,KAAK,SACLlC,UAAWG,EAAQa,OACnB0F,QAAS,kBAAM3C,EAAQsD,UAHzB,SAKE,eAACtH,EAAD,CAAMJ,eAAe,SAASC,WAAW,SAAzC,UACE,cAAC,IAAD,CAAeW,SAAS,UAD1B,wBAMF,gCACE,oBAAIP,UAAWG,EAAQ4G,GAAvB,sBACA,qBAAK/G,UAAWG,EAAQ8G,QAAxB,+BCtCV,IAAM1H,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACTK,OAAQ,sBAEVF,OAAQ,CACNC,aAAc,oBACdC,OAAQ,OACR,SAAU,CACRC,OAAQ,4BAGZC,OAAQ,CACNC,OAAQ,OACRC,WAAYrC,EAAMC,MAAMC,QACxBD,MAAOD,EAAMC,MAAMG,MACnBkC,QAAS,WACTC,WAAY,QAEdkG,KAAM,CACJC,cAAe,OACf7G,MAAO,MACP8G,UAAW,QAEbC,SAAU,CACR/H,QAAS,OACTwB,WAAYrC,EAAMC,MAAMG,MACxB8B,OAAQ,SACRI,QAAS,OACTkB,aAAc,IAEhBqF,KAAM,CACJC,KAAM,GAERC,MAAO,CACLlH,MAAO,QACPI,OAAQ,QACR4C,UAAW,aAIA,SAASmE,IACtB,IAAM1H,EAAUZ,IACVwE,EAAUC,cACVH,EAAWC,cAH8B,EAIfG,oBAAkB,GAJH,mBAIxC6D,EAJwC,KAI9BC,EAJ8B,KAKzCxG,EAAWC,aAA0C,SAACC,GAAD,OAAOA,EAAEF,YAI9DyG,EAAsB,SAACpG,GRgBF,IAAC+D,EQf1B9B,GRe0B8B,EQfH/D,ERe6C,CACtEM,KAAMtD,EAAoBqJ,eAC1BtC,cQXA,OAHAuC,qBAAU,WACRH,GAAY,KACX,CAACxG,IAEF,sBAAMvB,UAAWG,EAAQM,UAAzB,SACE,eAACV,EAAD,CAAMC,UAAWG,EAAQM,UAAzB,UACE,cAAC0G,EAAD,IACCW,EAAW,cAAClE,EAAD,IACV,0BAAS5D,UAAWG,EAAQmH,KAA5B,UACE,yBAAQtH,UAAWI,YAAKD,EAAQS,QAAhC,UACE,8CACA,wBACEsB,KAAK,SACLlC,UAAWG,EAAQa,OACnB0F,QAAS,kBAAM3C,EAAQ8B,KAAK,cAH9B,2BAQDtE,EAASgE,KAAI,SAAC4C,EAAI1C,GAAL,eACZ,sBAAyBzF,UAAWG,EAAQsH,SAAUf,QAAS,WAAQ3C,EAAQ8B,KAAR,mBAAyBJ,KAAhG,UACE,sBAAKzF,UAAWG,EAAQuH,KAAxB,UACE,cAAClH,EAAD,CACEF,WAAY,IACZC,SAAU,KACVV,aAAW,EAHb,SAKGsI,EAAGnG,OAEN,8BACE,sBAAMhC,UAAU,cAAc0G,QAAS,SAACvB,GArC9B,IAACvD,EAqCqCuD,EAAEiD,kBArCvCxG,EAqC8E6D,EApCzG1B,EAAQ8B,KAAR,wBAA8BjE,KAoCd,oBADF,KACkH,IAChH,sBAAM8E,QAAS,SAACvB,GAAQA,EAAEiD,kBAAmBJ,EAAoBvC,IAAO4C,MAAO,CAAEvJ,MAAO,OAASkB,UAAU,cAA3G,uBAIF,cAACQ,EAAD,UACG2H,EAAGhE,OAAOkB,OAAS,EAAnB,UACM8C,EAAGhE,OAAOkB,OADhB,qBAEM8C,EAAGhE,OAAOkB,OAFhB,eAKL,qBACEwB,IAAI,GACJrB,IAAG,oBAAE2C,EAAGhE,OAAO,UAAZ,aAAE,EAAcqB,WAAhB,QAAuB,kCAC1BxF,UAAWG,EAAQyH,UAxBvB,aAAgBnC,EAAI,eCjFlC,IAAMlG,EAAYC,aAAW,iBAAO,CAChCiB,UAAW,CACP8B,gBAAiB1D,EAAMC,MAAME,eAGtB,SAASsJ,IACpB,IAAMnI,EAAUZ,IAChB,OACE,qBAAKS,UAAWG,EAAQM,UAAxB,SACE,cAACoH,EAAD,M,sBCFO,SAASU,EAAT,GAA6E,IAAvDpE,EAAsD,EAAtDA,OAAQvC,EAA8C,EAA9CA,GAAI4G,EAA0C,EAA1CA,OACzC3E,EAAWC,cAOf,OACE,cAAC,IAAD,CACE2E,aAAW,EACXC,cAAe,CAAC,IAChBvE,OAAQA,EACRqE,OAVa,SAACG,GAClB,IVsC0BhD,EUtCpBiD,EAAcD,EAAKxE,OACzBN,GVqC0B8B,EUrCH,CAAE/D,KAAIuC,OAAQyE,GVwCb,CAC1B1G,KAAMtD,EAAoBiK,eAC1BlD,aUzCE6C,OCbJ,IAAMjJ,EAAYC,aAAW,iBAAO,CAClC2D,KAAM,CACJzD,QAAS,OACT0D,oBAAqB,0BACrBC,aAAc,OACdC,QAAS,UAEXC,SAAU,CACRC,SAAU,WACV9D,QAAS,OACTE,WAAY,SACZD,eAAgB,UAElBmJ,OAAQ,CACNtF,SAAU,WACV9C,MAAO,OACPI,OAAQ,QAEViI,IAAK,CACHrI,MAAO,OACPI,OAAQ,OACR4C,UAAW,aASTsF,EAAU,SACdC,EACAC,EACAC,EACArK,GACU,IAAD,EACTmK,EAAQG,YAAR,OAAsBtK,QAAtB,IAAsBA,IAAS,MAC/BmK,EAAQI,UAAR,oBAAuBvK,EAAvB,qBAAoC,MAC7B,OAAPmK,QAAO,IAAPA,KAASK,WACPJ,EAAUK,WAAaL,EAAUxI,MAAQyI,EAAOK,EAChDN,EAAUO,UAAYP,EAAUpI,OAASqI,EAAOO,EAChDR,EAAUxI,MAAQyI,EAAOQ,EACzBT,EAAUpI,OAASqI,EAAOS,GAErB,OAAPX,QAAO,IAAPA,KAASY,SACPX,EAAUK,WAAaL,EAAUxI,MAAQyI,EAAOK,EAChDN,EAAUO,UAAYP,EAAUpI,OAASqI,EAAOO,EAChDR,EAAUxI,MAAQyI,EAAOQ,EACzBT,EAAUpI,OAASqI,EAAOS,IAIxBE,EAAc,SAClBb,EACAC,EACAC,EACArK,GACI,IAAD,EACHmK,EAAQG,YAAR,OAAsBtK,QAAtB,IAAsBA,IAAS,MAC/BmK,EAAQI,UAAR,oBAAuBvK,EAAvB,qBAAoC,MACpCmK,EAAQc,OACNb,EAAUK,WAAaJ,EAAO,GAAG,GAAKD,EAAUxI,MAChDwI,EAAUO,UAAYN,EAAO,GAAG,GAAKD,EAAUpI,QAEjDqI,EAAOa,SAAQ,SAACC,EAAGxE,GACjB,GAAU,IAANA,EAAS,CAAC,IAAD,cACIwE,EADJ,GACJT,EADI,KACDE,EADC,KAEXT,EAAQiB,OACNhB,EAAUK,WAAaC,EAAIN,EAAUxI,MACrCwI,EAAUO,UAAYC,EAAIR,EAAUpI,YAI1CmI,EAAQkB,YACRlB,EAAQmB,SACRnB,EAAQoB,QAGK,SAASC,EAAT,GAGyB,IAFtCnG,EAEqC,EAFrCA,OACAoG,EACqC,EADrCA,YAEMpK,EAAUZ,IADqB,EAEL0E,oBAAkB,GAFb,mBAE9BuG,EAF8B,KAEpBC,EAFoB,KAwB/BC,EAAiB,SAACC,EAAQlF,GAC9B,QAAK+E,GAAiB/E,EAAI,IA2B5B,OAxBAyC,qBAAU,WACR/D,EAAOyG,OAAOF,GAAgBV,SAAQ,SAACpC,EAAOnC,GAC5C,IAAMyD,EAA8B2B,SAASC,cAAT,iBACxBrF,EAAI,IAEVsF,EAA6B,OAAG7B,QAAH,IAAGA,OAAH,EAAGA,EAAW8B,uBAC3CC,EAAa,OAAG/B,QAAH,IAAGA,OAAH,EAAGA,EAAWgC,cACjC,GAAIH,GAAc7B,EAAW,CAAC,IAAD,IACrBD,EAAU8B,EAAWI,WAAW,MACtCJ,EAAWrK,MAAX,iBAAmBuK,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAeG,mBAAlC,QAAiD,EACjDL,EAAWjK,OAAX,iBAAoBmK,QAApB,IAAoBA,OAApB,EAAoBA,EAAeI,oBAAnC,QAAmD,EAC5C,OAAPpC,QAAO,IAAPA,KAASqC,YACT1D,EAAMlC,QAAQsE,SAAQ,SAACuB,GACD,QAAhBA,EAAOrJ,MAAkB+G,EAC3BD,EAAQC,EAASC,EAAWqC,EAAQA,EAAOzM,OAClB,YAAhByM,EAAOrJ,MAAsB+G,GACtCa,EAAYb,EAASC,EAAWqC,EAAOpC,OAAQoC,EAAOzM,gBAM7D,CAACqF,EAAQqG,IAGV,qCACE,qBAAKxK,UAAWG,EAAQgD,KAAxB,SACGgB,EAAOyG,OAAOF,GAAgBnF,KAAI,SAACqC,EAAOnC,GAAR,mBACjC,sBAA4BzF,UAAWG,EAAQoD,SAA/C,UACE,wBACEmD,QAAS6D,EACTvK,UAAWI,YAAKD,EAAQ2I,OAAQ,iBAElC,qBACE9I,UAAWG,EAAQ4I,IACnBvD,IAAKoC,EAAMpC,IACXqB,IAAI,GACJnG,MAAK,iBAAEkH,QAAF,IAAEA,GAAF,UAAEA,EAAO4D,iBAAT,aAAE,EAAkB7B,SAApB,QAAyB,GAC9B7I,OAAM,iBAAE8G,QAAF,IAAEA,GAAF,UAAEA,EAAO4D,iBAAT,aAAE,EAAkB5B,SAApB,QAAyB,GAC/BhI,GAAE,gBAAW6D,EAAI,GACjBgG,OAAQ,kBAjEM,SAAC7D,EAAcnC,GACvC,IAAMyD,EAA8B2B,SAASC,cAAT,iBACxBrF,EAAI,IAEVsF,EAA6B,OAAG7B,QAAH,IAAGA,OAAH,EAAGA,EAAW8B,uBAC3CC,EAAa,OAAG/B,QAAH,IAAGA,OAAH,EAAGA,EAAWgC,cACjC,GAAIH,GAAc7B,EAAW,CAAC,IAAD,IACrBD,EAAU8B,EAAWI,WAAW,MACtCJ,EAAWrK,MAAX,iBAAmBuK,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAeG,mBAAlC,QAAiD,EACjDL,EAAWjK,OAAX,iBAAoBmK,QAApB,IAAoBA,OAApB,EAAoBA,EAAeI,oBAAnC,QAAmD,EAC5C,OAAPpC,QAAO,IAAPA,KAASqC,YACT1D,EAAMlC,QAAQsE,SAAQ,SAACuB,GACD,QAAhBA,EAAOrJ,MAAkB+G,EAC3BD,EAAQC,EAASC,EAAWqC,EAAQA,EAAOzM,OAClB,YAAhByM,EAAOrJ,MAAsB+G,GACtCa,EAAYb,EAASC,EAAWqC,EAAOpC,OAAQoC,EAAOzM,WAkDpC4M,CAAkB9D,EAAOnC,QAZ3C,gBAAmBA,EAAI,SAiB1BtB,EAAOkB,OAAS,GACf,qBACErF,UAAU,mBACVqI,MAAO,CAAEvJ,MAAO,WAChB4H,QAAS,kBAAM+D,GAAY,SAAChJ,GAAD,OAAQA,MAHrC,SAKG+I,EAAW,YAAH,2BAAqCrG,EAAOkB,OAA5C,OAET,QCzJV,IAAM9F,EAAYC,aAAW,iBAAO,CAClCoB,OAAQ,CACNC,aAAc,oBACdC,OAAQ,OACR,SAAU,CACRC,OAAQ,4BAGZN,UAAW,CACTK,OAAQ,sBAEV6K,QAAS,CACPxK,QAAS,OACTT,MAAO,MACP8G,UAAW,QAEboE,aAAc,CACZ1K,WAAY,QACZC,QAAS,OACT6F,aAAc,QAEhBvD,aAAc,CACZ/C,MAAO,OACPmL,SAAU,MACV1K,QAAS,SAEX2K,cAAe,CACbpL,MAAO,MACPQ,WAAY,QACZC,QAAS,QAEXH,OAAQ,CACNC,OAAQ,oBACRC,WAAY,UACZC,QAAS,gBAOE,SAAS4K,IAAwB,IAAD,cACvC5L,EAAUZ,IACVsE,EAAWC,cACXvC,EAAWC,aAA0C,SAACC,GAAD,OAAOA,EAAEF,YAHvB,EAInB0C,oBAAkB,GAJC,mBAItC+H,EAJsC,KAIhCC,EAJgC,KAKvCtI,EAAYW,iBAAyB,MAE/B1C,EACRsK,cADFC,OAAUvK,GASN2C,EAAoB,SAACC,EAAYxC,GAAb,OACxB,IAAIyC,SAAQ,SAACC,EAAKC,GAChB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,UAAY,WACbF,GAAUA,EAAOG,QACnBL,EAAI,CACF1C,OACAwD,IAAKZ,EAAOG,OACZW,QAAS,MAIfd,EAAOI,QAAU,WACfL,EAAIC,IAENA,EAAOK,cAAcT,OAgBzB,OACE,sBAAKxE,UAAWG,EAAQwL,QAAxB,UACE,sBAAK3L,UAAWG,EAAQyL,aAAxB,UACE,cAACpL,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,mBACG0B,EAASQ,OAAOH,WADnB,aACG,EAAsBI,OAEzB,cAACxB,EAAD,WACG,UAAAe,EAASQ,OAAOH,WAAhB,eAAsBuC,OAAOkB,QAAS,EAAtC,oBACM9D,EAASQ,OAAOH,WADtB,aACM,EAAsBuC,OAAOkB,OADnC,+BAEM9D,EAASQ,OAAOH,WAFtB,aAEM,EAAsBuC,OAAOkB,OAFnC,eAKL,sBAAKrF,UAAWG,EAAQyL,aAAxB,UACE,eAAC7L,EAAD,CAAMJ,eAAe,gBAAgBC,WAAW,SAAhD,UACE,cAACY,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,oBAGA,uBACE+B,GAAG,OACHM,KAAK,OACLmG,MAAO,CAAE3I,QAAS,QAClBwG,IAAKvC,EACLwC,UAAQ,EACRC,OAAO,oBACPJ,SArCiB,SAACb,GAC1B,IAAMkB,EAAU,GACRC,EAAUnB,EAAEc,OAAZK,MACR,GAAIA,GAASA,EAAMjB,OACjB,IAAK,IAAII,EAAI,EAAGA,EAAIa,EAAMjB,OAAQI,IAChCY,EAAQR,KAAKtB,EAAkB+B,EAAMb,GAAIa,EAAMb,GAAGzD,OAGtDyC,QAAQ8B,IAAIF,GAASG,MAAK,SAACC,GAAD,OAAY5C,GZnChB8B,EYmCmC,CAAE/D,GAAIG,OAAOH,GAAKuC,OAAQsC,GZhC/D,CACtBvE,KAAMtD,EAAoBwN,WAC1BzG,aALuB,IAACA,KYoCtBR,EAAEC,oBA8BI,wBACEpF,UAAWG,EAAQa,OACnB0F,QAjEgB,WACC,IAAD,EAAN,OAAd/C,IACF,UAAAA,EAAUgD,eAAV,SAAmBC,UAgEb1E,KAAK,SAHP,gCAQF,8BACE,cAACoI,EAAD,CACEC,YAAa,kBAAM0B,GAAU,IAC7B9H,OAAM,oBAAE5C,EAASQ,OAAOH,WAAlB,aAAE,EAAsBuC,cAAxB,QAAkC,UAI9C,eAACpE,EAAD,CAAMJ,eAAe,gBAArB,UACE,sBAAKK,UAAWG,EAAQ2L,cAAxB,UACE,cAACtL,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,mCAGA,cAACW,EAAD,oCACA,uBACA,cAACA,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,yBAGA,cAACW,EAAD,CAAYF,WAAY,IAAKxB,MAAM,MAAnC,oBAGA,uBACA,cAAC0B,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,oBAGA,cAACW,EAAD,CAAYF,WAAY,IAAKxB,MAAM,MAAnC,oBAGA,uBACA,cAAC0B,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,uBAGA,cAACW,EAAD,CAAYF,WAAY,IAAKxB,MAAM,MAAnC,uBAIF,sBAAKkB,UAAWG,EAAQ2L,cAAxB,UACE,cAACtL,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,kCAGA,cAACW,EAAD,oCACA,uBACA,cAACA,EAAD,CAAYF,WAAY,IAAKC,SAAU,KAAMV,aAAW,EAAxD,kBAGA,cAACW,EAAD,CAAYF,WAAY,IAAKxB,MAAM,MAAnC,0BAKJ,cAAC,IAAD,CACEuN,aAAc,CAAE3L,MAAO,MAAOI,OAAQ,OACtCkL,KAAMA,EACNM,sBAAoB,EACpBC,QAxFa,kBAAMN,GAAU,IAoF/B,SAME,cAAC1D,EAAD,CACEpE,OAAM,UAAE5C,EAASQ,OAAOH,WAAlB,aAAE,EAAsBuC,OAC9BvC,GAAIG,OAAOH,GACX4G,OAAQ,kBAAMyD,GAAU,WCzLlC,IAAM1M,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACTC,MAAO,OAETM,OAAQ,CACNC,OAAQ,oBACRC,WAAY,UACZC,QAAS,YAEX4B,MAAO,CACLrC,MAAO,KAETsC,MAAO,CACLtC,MAAO,KAET8L,cAAe,CACb9M,QAAS,OACT+M,SAAU,QAEZhJ,aAAc,CACZ/C,MAAO,OACPmL,SAAU,MACV1K,QAAS,SAEXwC,UAAW,CACTjE,QAAS,YAGE,SAASgN,IACtB,IAAMvM,EAAUZ,IACVsE,EAAWC,cACXC,EAAUC,cAH2B,EAIjBC,oBAAkB,GAJD,mBAIpCxB,EAJoC,KAI7B4B,EAJ6B,OAKnBJ,mBAAiB,IALE,mBAKpCjC,EALoC,KAK9BkC,EAL8B,KAOrCtC,EADeD,cAAbD,SACYG,MAAM,KAAKC,MAW/B,OACE,sBAAK9B,UAAWG,EAAQM,UAAxB,UACE,cAACY,EAAD,IACA,uBAAM6D,SAZW,SAACC,GbwBK,IAACQ,EavB1BR,EAAEC,iBACEpD,GACF6B,GbqBwB8B,EarBD,CAAEgH,MAAO5K,OAAOH,GAAKI,QbwBtB,CAC1BE,KAAMtD,EAAoBgO,eAC1BjH,aazBE5B,EAAQ8B,KAAK,cAENxB,GAAS,IAMd,UACE,sBAAKrE,UAAU,MAAf,UACE,uBAAO8F,QAAQ,OAAO9F,UAAWG,EAAQ4C,MAAzC,kBAGA,uBACEnB,GAAG,OACH5B,UAAWG,EAAQ6C,MACnB+C,MAAO/D,EACPgE,SAAU,SAACb,GAAD,OAAOjB,EAAQiB,EAAEc,OAAOF,aAGrCtD,IAAUT,GAAQ,qBAAKhC,UAAU,YAAf,SAA2B,cAAC6C,EAAD,CAAOC,QAAQ,QAAf,gCAC9C,wBAAQZ,KAAK,SAASlC,UAAWI,YAAKD,EAAQa,OAAQ,OAAtD,wBC7DR,IAAMzB,EAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACT8B,gBAAiB1D,EAAMC,MAAME,WAE/B6N,KAAM,CACJ/L,OAAQ,sBAEVwG,KAAM,CACJC,cAAe,OACf7G,MAAO,OAET+G,SAAU,CACR/H,QAAS,OACTwB,WAAYrC,EAAMC,MAAMG,MACxB8B,OAAQ,SACRI,QAAS,OACTkB,aAAc,IAEhBqF,KAAM,CACJC,KAAM,GAERC,MAAO,CACLlH,MAAO,aAII,SAASoM,IACtB,IAAM3M,EAAUZ,IACVwN,EAAQb,cACd,OACE,qBAAKlM,UAAWG,EAAQM,UAAxB,SACE,+BACE,eAACV,EAAD,CAAMC,UAAWG,EAAQ0M,KAAzB,UACE,cAAC1F,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6F,KAAI,UAAKD,EAAME,IAAX,aAA2BC,UAAWR,IACjD,cAAC,IAAD,CAAOM,KAAI,UAAKD,EAAME,IAAX,QAAsBC,UAAWnB,IAC5C,cAAC,IAAD,CAAOoB,OAAK,EAACH,KAAI,UAAKD,EAAME,KAAOC,UAAWtJ,c,YC/C3C,MAA0B,sCCAlC,SAASwJ,EAAkBC,EAAmBzK,GACzB,IAAtByK,EAAOC,YACTD,EAAOE,KAAK3K,GCWhB,ICVY4K,EDUNjO,EAAYC,aAAW,iBAAO,CAClCiO,SAAU,CACR9M,YAAa,oBACbjB,QAAS,OACTgO,cAAe,SACfhN,MAAO,MACPiN,WAAY,OACZnG,UAAW,OACX,WAAY,CACVzG,OAAQ,MACRI,QAAS,MACTF,OAAQ,oBACRnB,OAAQ,WAEV,UAAW,CACTsB,WAAY,SAGhBwM,QAAS,CACP1M,WAAY,UACZxB,QAAS,OACTE,WAAY,UAEdiO,QAAS,CACP1M,QAAS,OACT2F,UAAW,YAGA,SAASgH,IACtB,IAAM3N,EAAUZ,IACVwO,EAAavM,aACjB,SAACC,GAAD,OAAOA,EAAEsM,cAELN,EAAWjM,aACf,SAACC,GAAD,OAAOA,EAAEgM,YAELJ,EAAS7L,aAA6C,SAACC,GAAD,OAAOA,EAAE4L,UAC/DW,EAAuB,SAACJ,GAAD,OAA0B,WACjDP,GACFD,EAAkBC,EAAD,iBAAwCO,EEnDhDK,QAAQ,UAAU,SAAAC,GAAM,iBAAQA,EAAOC,sBF2DpD,OACE,sBAAKvM,GAAG,mBAAmB5B,UAAWG,EAAQsN,SAA9C,UACE,uBACE7L,GAAG,uBACH5B,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,aAHhC,UAKE,oDACA,uBACE9L,KAAK,WACL6D,MAAO0H,EAASW,UAChBC,QAASC,QAAQb,EAASW,WAC1BpI,SAAUgI,EAAqB,kBAGnC,sBAAMhO,UAAWG,EAAQyN,QAAzB,0BACCW,OAAOC,KAAKf,EAAStN,SAASoF,KAAI,SAACkJ,GAAD,OACjC,uBAEE7M,GAAG,6BACH5B,UAAWI,YAAKD,EAAQyN,QAAS,QACjClH,SA1BqBgI,EA0BQD,EA1BU,WACzCpB,GACFD,EAAkBC,EAAD,6BAA+BqB,MAoB9C,UAME,gCEhFqBC,EFgFAF,EE/EpBE,EAAIC,OAAO,EAAG,GAAGC,cAAgBF,EAAIC,OAAO,MFgF7C,uBACE1M,KAAK,WACL6D,MAAO0H,EAAStN,QAAQsO,GACxBJ,QAASC,QAAQb,EAAStN,QAAQsO,QAT/BA,GE3ER,IAAwBE,EFoDAD,KAoCzB,uBACE9M,GAAG,6BACH5B,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,kBAHhC,UAKE,0DACA,uBACE9L,KAAK,WACL6D,MAAO0H,EAASqB,eAChBT,QAASC,QAAQb,EAASqB,gBAC1B9I,SAAUgI,EAAqB,uBAGnC,uBACEpM,GAAG,4BACH5B,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,iBAHhC,UAKE,kDACA,uBACE9L,KAAK,WACL8D,SAAUgI,EAAqB,iBAC/BjI,MAAO0H,EAASsB,cAChBV,QAASC,QAAQb,EAASsB,oBAG9B,uBACEnN,GAAG,4BACH5B,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,SAHhC,UAKE,gDACA,uBACE9L,KAAK,WACL8D,SAAUgI,EAAqB,SAC/BjI,MAAO0H,EAASuB,MAChBX,QAASC,QAAQb,EAASuB,YAG9B,uBACEpN,GAAG,2BACH5B,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,iBAHhC,UAKE,uDACA,uBACE9L,KAAK,WACL6D,MAAO0H,EAASwB,cAChBZ,QAASC,QAAQb,EAASwB,eAC1BjJ,SAAUgI,EAAqB,sBAGnC,uBACEhO,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,mBAFhC,UAIE,qDACA,uBACEK,QAASC,QAAQb,EAASyB,iBAC1BlJ,SAAUgI,EAAqB,mBAC/B9L,KAAK,WACL6D,MAAO0H,EAASyB,qBAGpB,uBACElP,UAAWG,EAAQyN,QACnBlH,QAASsH,EAAqB,qBAFhC,UAIE,kDACA,uBACE9L,KAAK,WACL6D,MAAO0H,EAAS0B,kBAChBd,QAASC,QAAQb,EAAS0B,mBAC1BnJ,SAAUgI,EAAqB,0BAGnC,qBAAKpM,GAAG,iBAAiB5B,UAAWG,EAAQ0N,QAA5C,SACGE,EAAWF,QAAX,iBAA+BE,EAAWF,SAAY,W,SCrKnDL,K,6CAAAA,E,iDAAAA,E,+CAAAA,E,+CAAAA,E,iDAAAA,E,oDAAAA,M,KAiDL,IEnDK4B,I,SAAAA,K,mCAAAA,E,sCAAAA,Q,KAgBL,IAKMC,GAAc,iBAA0B,CACnDnN,KAAMkN,GAAkBE,eCfpB/P,GAAYC,aAAW,iBAAO,CAClCoB,OAAQ,CACNC,aAAc,oBACdC,OAAQ,QAEViN,WAAY,CACV3M,WAAY,OACZ1B,QAAS,OACTE,WAAY,SACZ,UAAW,CACTc,MAAO,QACP6O,QAAS,OACTxO,OAAQ,wBAEV,UAAW,CACTiG,aAAc,IAGlBhG,OAAQ,CACNC,OAAQ,oBACRC,WAAY,UACZC,QAAS,WACT,WAAY,CACVD,WAAY,UACZpC,MAAO,QACPqC,QAAS,WACTF,OAAQ,0BAIC,SAASI,KACtB,IAAMlB,EAAUZ,KAD6B,EAEf0E,mBAAiB,kBAFF,mBAEtCuL,EAFsC,KAE7BC,EAF6B,OAGrBxL,mBAAiB,MAHI,mBAGtCyL,EAHsC,KAGhCC,EAHgC,KAIvC5B,EAAavM,aACjB,SAACC,GAAD,OAAOA,EAAEsM,cAELV,EAAS7L,aAA6C,SAACC,GAAD,OAAOA,EAAE4L,UAC/DxJ,EAAWC,cAoBjB,OACE,yBAAQ9D,UAAWI,YAAKD,EAAQS,QAAhC,UACE,wCACA,sBAAKgB,GAAG,cAAc5B,UAAWG,EAAQ4N,WAAzC,UACE,uBAAOjI,QAAQ,iBAAf,oCACA,uBACElE,GAAG,iBACHM,KAAK,OACL6D,MAAOyJ,EACPxJ,SA3Bc,SAACb,GACrBsK,EAAWtK,EAAEc,OAAOF,UA4BhB,uBAAOD,QAAQ,cAAf,kBACA,uBACElE,GAAG,cACHM,KAAK,SACL0N,KAAK,UACL7J,MAAO2J,EACP1J,SA/BW,SAACb,GAClBwK,EAAQ5N,OAAOoD,EAAEc,OAAOF,WAgCpB,wBACE7D,KAAK,SACLN,GAAG,cACH5B,UAAWI,YAAKD,EAAQa,OAAQ+M,EAAWF,SAAW,UACtDnH,QAjCc,WAChB2G,GACFA,EAAOwC,QACPhM,EAASwL,MACTxL,EHiDkD,CACtD3B,KAAMsL,EAAsBsC,mBG/CxBjM,EHXuB,SAAC,GAAD,IAC3B2L,EAD2B,EAC3BA,QACAE,EAF2B,EAE3BA,KAF2B,MAGyC,CACpExN,KAAMsL,EAAsBuC,eAC5BpK,QAAS,CACP6J,UACAE,SGIWM,CAAc,CAAER,UAASE,WAsBhC,SAMG3B,EAAWF,QAAU,YAAc,kBC1E9C,IAyDI5E,GAzDE1J,GAAYC,aAAW,iBAAO,CAClCwB,OAAQ,CACNC,OAAQ,oBACRC,WAAY,UACZC,QAAS,YAEX8O,YAAa,CACXvQ,QAAS,QAEXwQ,SAAU,CACR5P,WAAY,OACZC,SAAU,QACVa,WAAY,SAEd+O,MAAO,CACLzP,MAAO,MACPiH,KAAM,EACNxG,QAAS,OACTqG,UAAW,QAEb4I,WAAY,CACV1Q,QAAS,OACTE,WAAY,SACZ,UAAW,CACTc,MAAO,MACPsG,aAAc,GAEhB,UAAW,CACTW,KAAM,GAER,SAAU,CACRjH,MAAO,MACP2P,UAAW,WAGfC,QAAS,CACP9M,SAAU,WACV,uBAAwB,CACtB9C,MAAO,QAET,WAAY,CACV8C,SAAU,WACV+M,IAAK,EACLC,KAAM,EACN1P,OAAQ,SAGZ2P,KAAK,aACH/P,MAAO,MAEP8G,UAAW,OACXmG,WAAY,QACX9O,EAAMM,YAAYC,KAAKE,GAAK,CAC3BI,QAAS,aAKA,SAASgR,KACtB,IAAMvQ,EAAUZ,KACVuJ,EAASxE,iBAA0B,MAFI,EAGbL,mBAAiB,IAHJ,mBAGtC0M,EAHsC,KAG5BC,EAH4B,OAIX3M,mBAAiB,IAJN,mBAItC4M,EAJsC,KAI3BC,EAJ2B,OAKb7M,mBAAiB,IALJ,mBAKtC8M,EALsC,KAK5BC,EAL4B,OAMb/M,mBAAiB,IANJ,mBAMtCgN,EANsC,KAM5BC,EAN4B,KAOvC7D,EAAS7L,aAA6C,SAACC,GAAD,OAAOA,EAAE4L,UAC/DU,EAAavM,aACjB,SAACC,GAAD,OAAOA,EAAEsM,cAELN,EAAWjM,aACf,SAACC,GAAD,OAAOA,EAAEgM,YAEL0D,EAAU3P,aACd,SAACC,GAAD,OAAOA,EAAE0P,WAyEX,OAjCAjJ,qBAAU,WACkC,IAAD,QAArCuF,EAASyB,iBAAmBjG,KAC9BA,GAAQmI,UACN,EACA,EAFF,oBAGEtI,EAAOnC,eAHT,aAGE,EAAgBjG,aAHlB,QAG2B,EAH3B,oBAIEoI,EAAOnC,eAJT,aAIE,EAAgB7F,cAJlB,QAI4B,GAE5BqQ,EAAQnH,SAAQ,YAAqC,IAAlC8E,EAAiC,EAAjCA,eAAgBtF,EAAiB,EAAjBA,EAAGE,EAAc,EAAdA,EAAGC,EAAW,EAAXA,EAAGC,EAAQ,EAARA,GCjI3C,YAOoB,IANzBX,EAMwB,EANxBA,QACA6F,EAKwB,EALxBA,eACAtF,EAIwB,EAJxBA,EACAE,EAGwB,EAHxBA,EACAC,EAEwB,EAFxBA,EACAC,EACwB,EADxBA,EAEAX,EAAQqC,YACRrC,EAAQG,YAAc0F,EAAiB,UAAY,UACnD7F,EAAQoI,UAAY,EACpBpI,EAAQqI,KAAK9H,EAAGE,EAAGC,EAAGC,GACtBX,EAAQmB,SDsHFmH,CAAS,CAAEtI,WAAS6F,iBAAgBtF,IAAGE,IAAGC,IAAGC,YAGhD,CAAC6D,EAAU0D,IAEdjJ,qBAAU,WAEN6F,EAAW4C,WAAaA,GACxB5C,EAAW8C,YAAcA,IAEzBD,EAAY7C,EAAW4C,UACvBG,EAAa/C,EAAW8C,cAGzB,CAAC9C,IAEJ7F,qBAAU,WACJY,GAAUA,EAAOnC,UAEnBsC,GAAUH,EAAOnC,QAAQwE,WAAW,SAGrC,IAGD,iCACE,cAAC,GAAD,IACA,qBAAKvJ,GAAG,YAAY5B,UAAWG,EAAQ+P,SAAvC,SACGnC,EAAWrN,MAAX,UACMqN,EAAWrN,MADjB,cAC4BqN,EAAWjN,OADvC,iCACsEiN,EAAWyD,OADjF,6BAC4GzD,EAAW0D,OADvH,qBAC0I1D,EAAW2D,MADrJ,MAEG,OAEN,sBACE9P,GAAG,eACH5B,UAAWG,EAAQ8P,YACnB5H,MAAO,CACLvH,OAAO,8BAAD,OACJiN,EAAWrN,MAAQ,OAAS,MADxB,MAJV,UASE,cAACoN,EAAD,IACA,sBAAK9N,UAAWG,EAAQgQ,MAAxB,UACE,sBAAKvO,GAAG,gBAAgB5B,UAAWG,EAAQmQ,QAA3C,UACE,qBACE9K,IAAKmM,EACL9K,IAAI,GACJwB,MAAO,CAAE3I,QAAUuR,EAAqB,OAAV,WAEhC,uBACEzL,IAAKyL,EACLW,UAAQ,EACRvJ,MAAO,CAAE3I,QAASuR,EAAW,QAAU,QACvCY,aAAW,cAEb,wBACExJ,MAAO,CAAE3I,QAAUuR,EAAqB,OAAV,SAC9BrP,GAAG,sBACHkQ,UAvFc,SAAC3M,GACzB,GAAIkI,GAAUvE,EAAOnC,QAAS,CAAC,IAAD,EACtB2K,EAAI,UAAGxI,EAAOnC,eAAV,aAAG,EAAgBoL,wBACvBvI,EAAIwI,WAEJ7M,EAAE8M,QAAUX,EAAKd,MAAQ1H,EAAOnC,QAAQjG,MAC1C4Q,EAAK5Q,OACLwR,YAGExI,EAAIsI,WAEJ7M,EAAEgN,QAAUb,EAAKf,KAAOzH,EAAOnC,QAAQ7F,OACzCwQ,EAAKxQ,QACLoR,YAEJ9E,EAAkBC,EAAD,uBAAyB7D,EAAzB,YAA8BE,MAwEvCxD,IAAK4C,EACLpI,MAAOqN,EAAWrN,OAAS,KAC3BI,OAAQiN,EAAWjN,QAAU,UAGjC,sBAAKd,UAAWI,YAAKD,EAAQiQ,WAAY,QAAzC,UACE,uBAAOtK,QAAQ,kBAAf,6BACA,uBACElE,GAAG,kBACHM,KAAK,OACL6D,MAAO4K,EACP3K,SAAU,SAACb,GAAD,OAAOyL,EAAYzL,EAAEc,OAAOF,UAExC,wBACE7D,KAAK,SACLlC,UAAWI,YAAKD,EAAQa,OAAQ,OAChC0F,QA1HiB,WACvB2G,GACFD,EAAkBC,EAAD,iCAAmCsD,KAqH9C,uBAQF,sBAAK3Q,UAAWI,YAAKD,EAAQiQ,WAAY,QAAzC,UACE,uBAAOtK,QAAQ,mBAAf,8BACA,uBACElE,GAAG,mBACHM,KAAK,OACL6D,MAAO8K,EACP7K,SAAU,SAACb,GAAD,OAAO2L,EAAa3L,EAAEc,OAAOF,UAEzC,wBACE7D,KAAK,SACLlC,UAAWI,YAAKD,EAAQa,OAAQ,OAChC0F,QArIkB,WACxB2G,GACFD,EAAkBC,EAAD,kCAAoCwD,KAgI/C,uBAQF,sBAAK7Q,UAAWI,YAAKD,EAAQiQ,WAAY,QAAzC,UACE,uBAAOtK,QAAQ,kBAAf,6BACA,uBACElE,GAAG,kBACHM,KAAK,OACL6D,MAAOgL,EACP/K,SAAU,SAACb,GAAD,OAAO6L,EAAY7L,EAAEc,OAAOF,UAExC,wBACE7D,KAAK,SACLlC,UAAWI,YAAKD,EAAQa,OAAQ,OAChC0F,QAhJiB,WAC3BwK,EAAYH,IA4IJ,uBAQF,wBACE7O,KAAK,SACLlC,UAAWG,EAAQa,OACnB0F,QArJmB,WACvB2G,GACFD,EAAkBC,EAAQ,aAgJtB,gCAQF,qBAAKzL,GAAG,eAAe5B,UAAWG,EAAQsQ,KAA1C,SACE,8BAAMU,EAAQ9L,OAAS+M,KAAKC,UAAUlB,EAAS,KAAM,GAAK,eE/PpE,IAAM5R,GAAYC,aAAW,iBAAO,CAChCiB,UAAW,CACP8B,gBAAiB1D,EAAMC,MAAME,eAGtB,SAASsT,KACpB,IAAMnS,EAAUZ,KAChB,OACE,qBAAKS,UAAWG,EAAQM,UAAxB,SACE,cAACiQ,GAAD,MCdO,WAA0B,iCCOnCnR,GAAYC,aAAW,iBAAO,CAClCoB,OAAQ,CACNM,WAAYrC,EAAMC,MAAMG,OAE1BsT,QAAS,CACPnR,WAAY,OACZb,SAAU,QACVY,QAAS,UACTrC,MAAOD,EAAMC,MAAMI,MACnB,WAAY,CACV2B,aAAa,aAAD,OAAehC,EAAMC,MAAMC,UAEzC,UAAW,CACTyT,eAAgB,OAChB1T,MAAOD,EAAMC,MAAMI,YAInBuT,GAAW,CACf,CACE7Q,GAAI,EACJI,KAAM,SACN0Q,KAAM,KAER,CACE9Q,GAAI,EACJI,KAAM,WACN0Q,KAAM,cAGK,SAASrR,KACtB,IAAMlB,EAAUZ,KAD6B,EAEX0E,mBAAiB,GAFN,mBAEtC0O,EAFsC,KAE3BC,EAF2B,KAQ7C,OALA1K,qBAAU,WACJ2K,OAAOC,SAASpR,SAASO,SAAS,YACpC2Q,EAAa,KAEd,IAED,yBAAQ5S,UAAWG,EAAQS,OAA3B,UACE,qBAAK4E,IAAKuN,GAAMjS,OAAQ,KACvB2R,GAASlN,KAAI,SAACyN,GAAD,OACZ,cAAC,IAAD,CAEEhT,UAAWI,YAAKD,EAAQoS,QAASI,IAAcK,EAAKpR,IAAM,UAC1DqR,GAAID,EAAKN,KACThM,QAAS,kBAAMkM,EAAaI,EAAKpR,KAJnC,SAMGoR,EAAKhR,MALDgR,EAAKpR,UC9CpB,IAAMrC,GAAYC,aAAW,iBAAO,CAChC0T,OAAQ,CACJ1P,SAAU,QACV2P,OAAQ,OACRC,MAAO,OACP/C,UAAW,QACXjP,WAAY,OACZiS,YAAa,OACbvS,OAAQ,OACRI,WAAYrC,EAAMC,MAAME,UACxBmC,QAAS,OACTiB,WAAY,OAGL,SAASkR,KACpB,IAAMnT,EAAUZ,KAChB,OAAO,wBAAQS,UAAWG,EAAQ+S,OAA3B,2BCZI,SAASK,KACpB,OACE,eAAC,IAAD,WACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOvG,KAAK,YAAYE,UAAW5E,IACnC,cAAC,IAAD,CAAO0E,KAAK,WAAWE,UAAWJ,IAClC,cAAC,IAAD,CAAOE,KAAK,IAAIE,UAAWoF,KAC3B,cAAC,IAAD,CAAUW,GAAG,SAEf,cAACK,GAAD,O,ICfIE,G,mBAAAA,K,yCAAAA,E,2CAAAA,E,wCAAAA,Q,KA0BL,IC1BKC,GCCNC,GAAkC,CACtCvE,kBAAmB,EACnBJ,cAAe,EACfG,gBAAiB,EACjBJ,eAAgB,EAChBV,UAAW,EACXa,cAAe,EACfD,MAAO,EACP7O,QAAS,I,mBDTCsT,K,uCAAAA,Q,KAWL,IEXKE,GCAND,GAAiC,GCCjCA,GAAoC,CACxClE,QAAS,YACTE,KAAM,KACN7B,QAAS,GACT8C,SAAU,GACVE,UAAW,GACXa,MAAO,EACPF,OAAQ,EACRC,OAAQ,EACR3Q,OAAQ,EACRJ,MAAO,EACPkT,WAAW,I,SFZDD,K,2CAAAA,E,4CAAAA,Q,KAgBL,IGhBDD,GAAsC,CAC1C9Q,QAAS,GACTE,QAAS,ICDL4Q,GAA0B,GCQ1BG,GAAWC,aAAgB,CAC7BvS,SDPW,SACbwS,EACAC,GAEA,OAAQA,EAAO9R,MACb,KAAKtD,EAAoBgH,eACvB,MAAM,GAAN,oBAAWmO,GAAX,CAAkBC,EAAOrO,UAE3B,KAAK/G,EAAoBiK,eACvB,IAAMoL,EAAQ,aAAOF,GADkB,EAEhBC,EAAOrO,QAAtB/D,EAF+B,EAE/BA,GAAIuC,EAF2B,EAE3BA,OAEZ,OADA8P,EAASrS,GAAIuC,OAASA,EACf8P,EAET,KAAKrV,EAAoBwN,WACvB,IAAM6H,EAAQ,aAAOF,GADc,EAEZC,EAAOrO,QAAtB/D,EAF2B,EAE3BA,GAAIuC,EAFuB,EAEvBA,OAEZ,OADA8P,EAASrS,GAAIuC,OAAb,uBAA0B8P,EAASrS,GAAIuC,QAAvC,aAAkDA,IAC3C8P,EAET,KAAKrV,EAAoBgO,eAAiB,IAAD,EACfoH,EAAOrO,QAAvBgH,EAD+B,EAC/BA,MAAO3K,EADwB,EACxBA,KAUf,OATiB+R,EAAMxO,KAAI,SAAC4C,EAAI1C,GAC9B,OAAIA,IAAMkH,EACD,2BACFxE,GADL,IAEEnG,SAGGmG,KAIX,KAAKvJ,EAAoBqJ,eACvB,OAAO,aAAI8L,EAAMnJ,QAAO,SAACsJ,EAAGzO,GAAJ,OAAUA,IAAMuO,EAAOrO,YAEjD,QACE,OAAO+N,KC7BTjG,SNEW,SACbsG,EACAC,GAEA,OAAQA,EAAO9R,MACb,KAAKsR,GAAmBW,cACtB,OAAO,2BAAKJ,GAAUC,EAAOrO,SAC/B,QACE,OAAOoO,GAASL,KMTlBU,aFPW,SACbL,EACAC,GAEA,OAAQA,EAAO9R,MACb,KAAKyR,GAAwBU,aAC3B,OAAO,eAAKL,EAAOrO,SACrB,KAAKgO,GAAwBW,aAC3B,OAAOZ,GACT,QACE,OAAOK,GAASL,KEFlBvC,QJXW,SACb4C,EACAC,GAEA,OAAQA,EAAO9R,MACb,KAAKuR,GAAmBc,aACtB,OAAO,aAAIP,EAAOrO,SACpB,QACE,OAAOoO,GAASL,KIIlB3F,WHCW,SACbgG,EACAC,GAEA,OAAQA,EAAO9R,MACb,KAAKsL,EAAsBuC,eAAiB,IAAD,EACfiE,EAAOrO,QAAzB6J,EADiC,EACjCA,QAASE,EADwB,EACxBA,KACjB,OAAO,2BAAKqE,GAAZ,IAAmBH,WAAW,EAAMpE,UAASE,SAE/C,KAAKlC,EAAsBgH,gBAAkB,IAAD,EAOtCR,EAAOrO,QALTjF,EAFwC,EAExCA,MACAI,EAHwC,EAGxCA,OACA0Q,EAJwC,EAIxCA,OACAC,EALwC,EAKxCA,OACAC,EANwC,EAMxCA,MAEF,OAAO,2BACFqC,GADL,IAEEH,WAAW,EACXlT,QACAI,SACA0Q,SACAC,SACAC,UAGJ,KAAKlE,EAAsBiH,iBAAmB,IAAD,EACFT,EAAOrO,QAAxCkI,EADmC,EACnCA,QAAS8C,EAD0B,EAC1BA,SAAUE,EADgB,EAChBA,UAC3B,OAAO,2BAAKkD,GAAZ,IAAmBH,WAAW,EAAM/F,UAAS8C,WAAUE,cAEzD,KAAKrD,EAAsBsC,gBACzB,OAAO4D,GACT,QACE,OAAOK,GAASL,KGlClBrG,OCbW,SACb0G,EACAC,GAEA,OAAQA,EAAO9R,MACb,KAAKsL,EAAsBuC,eAAiB,IAAD,EACfiE,EAAOrO,QAAzB6J,EADiC,EACjCA,QAASE,EADwB,EACxBA,KAEjB,OADe,IAAIgF,UAAJ,eAAsBlF,EAAtB,YAAiCE,IAGlD,KAAKN,GAAkBE,aACrB,OAbiC,KAenC,QACE,OAAOyE,GAhB0B,SDuBjCY,GAAmB9B,OAAO+B,sCAAwCC,KAGzDC,GAFIC,aAAYlB,GAAUc,GAAiBK,iBEd3C,SAASC,KAAgB,IAC9BrB,EAAcpS,aACpB,SAACC,GAAD,OAAOA,EAAEsM,cADH6F,UAGFvG,EAAS7L,aAA6C,SAACC,GAAD,OAAOA,EAAE4L,UAC/DxJ,EAAWC,cAwDjB,OAtDAoE,qBAAU,WAqCJ0L,GAAavG,IACfA,EAAO6H,UApCkB,SAAC/P,GAC1B,ITTsBQ,ESShB8K,EAAO2B,KAAK+C,MAAMhQ,EAAEwD,MACtB8H,EAAKU,SACPtN,ErBsDqB,SAAC,GAAD,IAC3BnD,EAD2B,EAC3BA,MACAI,EAF2B,EAE3BA,OACA0Q,EAH2B,EAG3BA,OACAC,EAJ2B,EAI3BA,OACAC,EAL2B,EAK3BA,MAL2B,MASD,CAC1BxP,KAAMsL,EAAsBgH,gBAC5B7O,QAAS,CACPjF,QACAI,SACA0Q,SACAC,SACAC,UqBrEM0D,CAAc,CACZ1U,MAAO+P,EAAK/P,MACZI,OAAQ2P,EAAK3P,OACb0Q,OAAQf,EAAKe,OACbC,OAAQhB,EAAKgB,OACbC,MAAOjB,EAAKiB,SAGhB7N,GTpBoB8B,ESoBC8K,EAAKU,QTpB6C,CAC7EjP,KAAMuR,GAAmBc,aACzB5O,eSoBM9B,ErB2BsB,SAAC,GAAD,IAC5BgK,EAD4B,EAC5BA,QACA8C,EAF4B,EAE5BA,SACAE,EAH4B,EAG5BA,UAH4B,MAOD,CAC3B3O,KAAMsL,EAAsBiH,iBAC5B9O,QAAS,CACPkI,UACA8C,WACAE,cqBtCMwE,CAAe,CACb1E,SAAUF,EAAKE,SACfE,UAAWJ,EAAKI,UAChBhD,QAAS4C,EAAK5C,WAGlBhK,EVdoB,SAAC8B,GAAD,MAAgD,CAC1EzD,KAAMsR,GAAmBW,cACzBxO,WUaQ2P,CAAa,CACXlH,UAAWqC,EAAKrC,UAChBU,eAAgB2B,EAAK3B,eACrBC,cAAe0B,EAAK1B,cACpBE,cAAewB,EAAKxB,cACpBC,gBAAiBuB,EAAKvB,gBACtBC,kBAAmBsB,EAAKtB,kBACxBH,MAAOyB,EAAKzB,MACZ7O,QAASsQ,EAAKtQ,aAOpBkN,EAAOkI,QAAU,WACf1R,EAASwL,OAEXhC,EAAOrI,QAAU,WP3CI,IAACW,EO4CpB9B,GP5CoB8B,EO6CN,CACV7C,QAAS,QACTF,QAAS,oCP/CyD,CAC5EV,KAAMyR,GAAwBU,aAC9B1O,aOgDM9B,EAASwL,UAIZ,CAACuE,EAAWvG,IACR,KClET,IAAM9N,GAAYC,aAAW,iBAAO,CAClCiB,UAAW,CACT+P,KAAM,MACN4C,MAAO,OACPD,OAAQ,OACRqC,UAAW,mBACX9V,QAAS,OACT+V,OAAQ,KACRjS,SAAU,QACV5D,WAAY,SACZD,eAAgB,UAElB+V,SAAU,CACRhW,QAAS,OACTyB,QAAS,WACTZ,SAAU,SACV4B,WAAY,6CACZ7B,WAAY,IACZ8B,WAAY,KACZC,aAAc,MACdC,cAAe,YACfC,gBAAiB,cACjBoT,UACE,0GACFC,QAAS,EACTJ,UAAW,sBACXK,WAAW,0HAEX,WAAY,CACVD,QAAS,EACTJ,UAAW,EACXK,WACE,qGAGNpT,MAAO,CACL3D,MAAO,OACPwB,WAAY,IACZiC,gBAAiB,kBAEnBuT,QAAS,CACPhX,MAAO,OACPwB,WAAY,IACZiC,gBAAiB,kBAEnBG,KAAM,CACJ5D,MAAO,OACPwB,WAAY,IACZiC,gBAAiB,mBAEnBI,QAAS,CACP7D,MAAO,OACPwB,WAAY,IACZiC,gBAAiB,sBAIN,SAASwT,KACtB,IAAM5V,EAAUZ,KAD+B,EAElBiC,aAG3B,SAACC,GAAD,OAAOA,EAAE2S,gBAHHtR,EAFuC,EAEvCA,QAASF,EAF8B,EAE9BA,QAIXiB,EAAWC,cAQjB,OAPAoE,qBAAU,WACJtF,GACFoT,YAAW,WACTnS,ERnD6C,CACnD3B,KAAMyR,GAAwBW,iBQmDvB,OAEJ,CAACzQ,EAAUjB,IAEZ,mCACE,qBAAK5C,UAAWI,YAAKD,EAAQM,WAA7B,SACE,qBACET,UAAWI,YACTD,EAAQuV,SACR9S,GAAW,SACC,UAAZE,GAAuB3C,EAAQsC,MACnB,SAAZK,GAAsB3C,EAAQuC,KAClB,YAAZI,GAAyB3C,EAAQwC,SANrC,SASE,cAACE,EAAD,CAAOC,QAAQ,UAAf,SAA0BF,UC1ErBqT,OAVf,WACI,OACE,eAAC,IAAD,CAAUC,MAAOpB,GAAjB,UACE,cAACvB,GAAD,IACA,cAAC,GAAD,IACA,cAAC0B,GAAD,QCNRkB,IAASC,OACP,cAAC,aAAD,UACE,cAAC,GAAD,MAEFvL,SAASwL,eAAe,W","file":"static/js/main.12c974aa.chunk.js","sourcesContent":["import { DataSet, Image } from '../../models/dataset';\r\n\r\n/* eslint-disable no-unused-vars, no-shadow */\r\nexport enum DataSetsActionTypes {\r\n  CREATE_DATASET = '@@datasets/CREATE_DATASET',\r\n  UPDATE_DATASET = '@@datasets/UPDATE_DATASET',\r\n  ADD_IMAGES = '@@datasets/ADD_IMAGES',\r\n  RENAME_DATASET = '@@datasets/RENAME_DATASET',\r\n  DELETE_DATASET = '@@datasets/DELETE_DATASET',\r\n}\r\n\r\ninterface ActionCreateDataset {\r\n  type: DataSetsActionTypes.CREATE_DATASET;\r\n  payload: DataSet;\r\n}\r\ninterface ActionUpdateDataset {\r\n  type: DataSetsActionTypes.UPDATE_DATASET;\r\n  payload: {\r\n    id: number;\r\n    images: Array<Image>;\r\n  };\r\n}\r\ninterface ActionAddImages {\r\n  type: DataSetsActionTypes.ADD_IMAGES;\r\n  payload: {\r\n    id: number;\r\n    images: Array<Image>;\r\n  };\r\n}\r\ninterface ActionRenameDataset {\r\n  type: DataSetsActionTypes.RENAME_DATASET;\r\n  payload: {\r\n    index: number;\r\n    name: string;\r\n  };\r\n}\r\n\r\ninterface ActionDeleteDataset {\r\n  type: DataSetsActionTypes.DELETE_DATASET;\r\n  payload: number;\r\n}\r\n\r\nexport type DatasetsActions =\r\n  | ActionCreateDataset\r\n  | ActionRenameDataset\r\n  | ActionAddImages\r\n  | ActionDeleteDataset\r\n  | ActionUpdateDataset;\r\n\r\nexport const createDataset = (payload: DataSet): ActionCreateDataset => ({\r\n  type: DataSetsActionTypes.CREATE_DATASET,\r\n  payload,\r\n});\r\n\r\nexport const updateDataset = (payload: {\r\n  id: number;\r\n  images: Array<Image>;\r\n}): ActionUpdateDataset => ({\r\n  type: DataSetsActionTypes.UPDATE_DATASET,\r\n  payload,\r\n});\r\n\r\nexport const addImages = (payload: {\r\n  id: number;\r\n  images: Array<Image>;\r\n}): ActionAddImages => ({\r\n  type: DataSetsActionTypes.ADD_IMAGES,\r\n  payload,\r\n});\r\n\r\nexport const renameDataset = (payload: {\r\n  index: number;\r\n  name: string;\r\n}): ActionRenameDataset => ({\r\n  type: DataSetsActionTypes.RENAME_DATASET,\r\n  payload,\r\n});\r\n\r\nexport const deleteDataset = (payload: number): ActionDeleteDataset => ({\r\n  type: DataSetsActionTypes.DELETE_DATASET,\r\n  payload,\r\n});\r\n","import Theme from '../models/theme';\r\n\r\nconst theme: Theme = {\r\n    color: {\r\n        primary: '#12EF8C',\r\n        secondary: '#F4F6F8',\r\n        white: 'white',\r\n        black: 'black',\r\n    },\r\n    breakpoints: {\r\n        down: {\r\n            sm: '@media (max-width: 959.95px)',\r\n            md: '@media (max-width: 1279.95px)',\r\n        },\r\n    },\r\n};\r\n\r\nexport default theme;\r\n","import { makeStyles } from '@material-ui/styles';\r\nimport { ReactElement, HTMLAttributes } from 'react';\r\nimport clsx from 'clsx';\r\n\r\ninterface GridProps extends HTMLAttributes<HTMLDivElement>{\r\n  justifyContent?:\r\n    | 'center'\r\n    | 'space-around'\r\n    | 'space-between'\r\n    | 'space-evenly'\r\n    | 'start'\r\n    | 'end'\r\n    | 'baseline';\r\n  alignItems?:\r\n    | 'center'\r\n    | 'space-around'\r\n    | 'space-between'\r\n    | 'space-evenly'\r\n    | 'start'\r\n    | 'end'\r\n    | 'baseline';\r\n  className?: string;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: ({ justifyContent, alignItems }: Omit<GridProps, 'children'>) => ({\r\n    display: 'flex',\r\n    justifyContent,\r\n    alignItems,\r\n  }),\r\n  interactive: {\r\n    cursor: 'pointer',\r\n  },\r\n}));\r\n\r\nexport default function Grid({\r\n  justifyContent,\r\n  className,\r\n  alignItems,\r\n  children,\r\n  ...props\r\n}: GridProps): ReactElement {\r\n  const classes = useStyles({ justifyContent, alignItems });\r\n  return <div {...props} className={clsx(classes.root, className)}>{children}</div>;\r\n}\r\n\r\nGrid.defaultProps = {\r\n  justifyContent: '',\r\n  alignItems: '',\r\n  className: '',\r\n};\r\n","import { makeStyles } from '@material-ui/styles';\r\nimport { ReactElement, HTMLAttributes } from 'react';\r\nimport clsx from 'clsx';\r\n\r\ninterface TypographyProps extends HTMLAttributes<HTMLParagraphElement> {\r\n  fontWeight?: 100 | 200 | 300 | 400 | 500 | 600 | 700;\r\n  fontSize?: number;\r\n  color?: string;\r\n  children: string;\r\n  interactive?: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: ({\r\n    fontWeight,\r\n    fontSize,\r\n    color,\r\n  }: Pick<TypographyProps, 'fontSize' | 'fontWeight' | 'color'>) => ({\r\n    fontWeight,\r\n    color,\r\n    fontSize: `${fontSize}rem`,\r\n  }),\r\n  interactive: {\r\n    cursor: 'pointer',\r\n  },\r\n}));\r\n\r\nexport default function Typography({\r\n  fontWeight,\r\n  fontSize,\r\n  color,\r\n  children,\r\n  interactive,\r\n  ...props\r\n}: TypographyProps): ReactElement {\r\n  const classes = useStyles({ fontWeight, fontSize, color });\r\n  return <p {...props} className={clsx(classes.root, interactive && classes.interactive)}>{children}</p>;\r\n}\r\n\r\nTypography.defaultProps = {\r\n  interactive: false,\r\n  color: 'black',\r\n  fontSize: 1,\r\n  fontWeight: 0,\r\n};\r\n","import { ReactElement } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { useLocation } from 'react-router';\r\nimport { useSelector } from 'react-redux';\r\nimport { DataSetState, ReduxStoreType } from '../../models/reduxStore';\r\nimport theme from '../../styles/theme';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    width: '20%',\r\n    borderRight: '1px solid #e7e8e8',\r\n  },\r\n  header: {\r\n    borderBottom: '1px solid #e7e8e8',\r\n    height: '5rem',\r\n    '& > h1': {\r\n      margin: '.8rem 1rem 1.3rem .5rem',\r\n    },\r\n  },\r\n  button: {\r\n    border: 'none',\r\n    background: theme.color.primary,\r\n    color: theme.color.white,\r\n    padding: '3px 10px',\r\n    marginLeft: 'auto',\r\n  },\r\n}));\r\n\r\ninterface HeaderProp {\r\n  title?: string;\r\n}\r\n\r\nexport default function Header({ title }: HeaderProp): ReactElement {\r\n  const classes = useStyles();\r\n  const datasets = useSelector<ReduxStoreType, DataSetState>((s) => s.datasets);\r\n  const { pathname } = useLocation();\r\n  const id = pathname.split('/').pop();\r\n  return (\r\n    <header className={classes.header}>\r\n      {id ? <h1>{datasets[Number(id)]?.name}</h1> : <h1>{title ?? 'Datasets'}</h1>}\r\n      {id && !pathname.includes('edit') && (\r\n        <button type=\"button\" className={classes.button}>\r\n          Generate\r\n        </button>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nHeader.defaultProps = {\r\n  title: '',\r\n};\r\n","import { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { ReactElement } from 'react';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    display: 'flex',\n    padding: '6px 16px',\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: 600,\n    fontSize: '0.8rem',\n    lineHeight: 1.43,\n    borderRadius: '4px',\n    letterSpacing: '0.01071em',\n    backgroundColor: 'transparent',\n    wordBreak: 'break-word',\n    margin: '8px auto',\n  },\n  error: {\n    color: 'rgb(97, 26, 21)',\n    backgroundColor: 'rgb(253, 236, 234)',\n  },\n  info: {\n    color: 'rgb(13, 60, 97)',\n    backgroundColor: 'rgb(232, 244, 253)',\n  },\n  success: {\n    color: 'rgb(30, 70, 32)',\n    backgroundColor: 'rgb(237, 247, 237)',\n  },\n  message: {\n    color: 'inherit',\n    background: 'inherit',\n  },\n}));\n\ninterface AlertProps {\n  variant: 'error' | 'info' | 'success' | 'warning' |'message';\n  children: ReactElement | string;\n}\n\nexport default function Alert({ variant, children }: AlertProps): ReactElement {\n  const classes = useStyles();\n  return (\n    <div\n      className={clsx(\n        classes.container,\n        variant === 'error' && classes.error,\n        variant === 'info' && classes.info,\n        variant === 'success' && classes.success,\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n","import { ReactElement, useState, FormEvent, ChangeEvent, useRef } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\nimport { createDataset } from '../../redux/actions/datasets';\nimport { useHistory } from 'react-router';\nimport Header from './Header';\nimport Alert from '../common/Alert';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    width: '80%',\n  },\n  button: {\n    border: '1px solid #b7b7b7',\n    background: '#EBEBEB',\n    padding: '3px 10px',\n  },\n  label: {\n    width: 100,\n  },\n  input: {\n    width: 250,\n  },\n  wrapper: {},\n  inner: {},\n  grid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, 84px)',\n    gridAutoRows: '84px',\n    gridGap: '0.5rem',\n  },\n  gridItem: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  imagePreview: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n  },\n  fileInput: {\n    display: 'none',\n  },\n}));\nexport default function Create(): ReactElement {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [name, setName] = useState<string>('');\n  const [images, setImages] = useState<string[]>([]);\n  const [error, setError] = useState<boolean>(false);\n  const fileInput = useRef<HTMLInputElement>(null);\n  const handleChooseFiles = () => {\n    if (fileInput !== null) {\n      fileInput.current?.click();\n    }\n  };\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (name && images.length > 0) {\n      const imageToAdd = images.map((src, i) => ({\n        name: `Image ${i + 1}`,\n        src,\n        regions: [],\n      }));\n      dispatch(createDataset({ name, images: imageToAdd }));\n      history.push('/datasets');\n    }\n    else { setError(true); }\n  };\n  const readFileAsDataURL = (file: Blob): Promise<string> =>\n    new Promise((res, rej) => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        if (reader && reader.result) {\n          res(reader.result as string);\n        }\n      };\n      reader.onerror = () => {\n        rej(reader);\n      };\n      reader.readAsDataURL(file);\n    });\n\n  const handleChangeImages = (e: ChangeEvent<HTMLInputElement>) => {\n    const readers = [];\n    const { files } = e.target;\n    if (files && files.length) {\n      for (let i = 0; i < files.length; i++) {\n        readers.push(readFileAsDataURL(files[i]));\n      }\n    }\n    Promise.all(readers).then((values) => setImages(values));\n    e.preventDefault();\n  };\n  return (\n    <div className={classes.container}>\n      <Header title=\"New Dataset\"/>\n      <form onSubmit={handleSubmit}>\n        <div className=\"m-3\">\n          <label htmlFor=\"name\" className={classes.label}>\n            Name\n          </label>\n          <input\n            id=\"name\"\n            className={classes.input}\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          {error && !name && <div className=\"w-25\"><Alert variant=\"error\">Name is required</Alert></div>}\n        </div>\n        <div className=\"m-3\">\n          <label htmlFor=\"logo\" className={classes.label}>\n            Images\n          </label>\n          <input\n            id=\"logo\"\n            type=\"file\"\n            className={classes.fileInput}\n            ref={fileInput}\n            multiple\n            accept=\".jpg, .png, .jpeg\"\n            onChange={handleChangeImages}\n          />\n          <button\n            type=\"button\"\n            className={classes.button}\n            onClick={handleChooseFiles}\n          >\n            Choose Images\n          </button>\n          <div className={clsx(classes.grid, 'mt-3')}>\n            {images.map((src, i) => (\n              <div key={`image ${i + 1}`} className={classes.gridItem}>\n\n                <img\n                  key={`image-${i + 1}`}\n                  alt=\"\"\n                  src={src}\n                  className={clsx(classes.imagePreview)}\n                />\n              </div>\n\n            ))}\n          </div>\n          {error && images.length <= 0 ? <div className=\"w-25\"><Alert variant=\"error\">Images are required</Alert></div> : null}\n        </div>\n        <button type=\"submit\" className={clsx(classes.button, 'm-3')}>\n          Create\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { ReactElement } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Grid from '../common/Grid';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    width: '20%',\r\n    borderRight: '1px solid #e7e8e8',\r\n  },\r\n  button: {\r\n    border: '1px solid #b7b7b7',\r\n    background: '#EBEBEB',\r\n    padding: '3px 10px',\r\n    display: 'block',\r\n    width: '96%',\r\n    margin: 'auto',\r\n    marginTop: '1rem',\r\n  },\r\n  h1: {\r\n    padding: '.8rem 1rem 1.3rem 2rem',\r\n    marginBottom: '0',\r\n    height: '80px',\r\n  },\r\n  subMenu: {\r\n    padding: '.4rem',\r\n    paddingLeft: '2rem',\r\n    background: '#EBEBEB',\r\n  },\r\n}));\r\nexport default function Sidebar(): ReactElement {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { pathname } = useLocation();\r\n  return (\r\n    <div className={classes.container}>\r\n      {pathname.search(/dataset$|dataset\\//g) > 0 ? (\r\n        <button\r\n          type=\"button\"\r\n          className={classes.button}\r\n          onClick={() => history.goBack()}\r\n        >\r\n          <Grid justifyContent=\"center\" alignItems=\"center\">\r\n            <ArrowBackIcon fontSize=\"small\"/>\r\n            Back to Datasets\r\n          </Grid>\r\n        </button>\r\n      ) : (\r\n        <div>\r\n          <h1 className={classes.h1}>Projects</h1>\r\n          <div className={classes.subMenu}>All projects</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { ReactElement, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { DataSetState, ReduxStoreType } from '../../models/reduxStore';\nimport { deleteDataset } from '../../redux/actions/datasets';\nimport theme from '../../styles/theme';\nimport Grid from '../common/Grid';\nimport Typography from '../common/Typography';\nimport Create from './Create';\nimport Sidebar from './Sidebar';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    height: 'calc(100vh - 62px)',\n  },\n  header: {\n    borderBottom: '1px solid #e7e8e8',\n    height: '5rem',\n    '& > h1': {\n      margin: '.8rem 1rem 1.3rem .5rem',\n    },\n  },\n  button: {\n    border: 'none',\n    background: theme.color.primary,\n    color: theme.color.white,\n    padding: '3px 10px',\n    marginLeft: 'auto',\n  },\n  list: {\n    paddingBottom: '1rem',\n    width: '80%',\n    overflowY: 'auto',\n  },\n  listItem: {\n    display: 'flex',\n    background: theme.color.white,\n    margin: '1.5rem',\n    padding: '1rem',\n    borderRadius: 10,\n  },\n  text: {\n    flex: 1,\n  },\n  image: {\n    width: '250px',\n    height: '140px',\n    objectFit: 'cover',\n  },\n}));\n\nexport default function DataSets(): ReactElement {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isCreate, setIsCreate] = useState<boolean>(false);\n  const datasets = useSelector<ReduxStoreType, DataSetState>((s) => s.datasets);\n  const handleRenameDataset = (id: number): void => {\n    history.push(`/dataset/edit/${id}`);\n  };\n  const handleDeleteDataset = (id: number): void => {\n    dispatch(deleteDataset(id));\n  };\n\n  useEffect(() => {\n    setIsCreate(false);\n  }, [datasets]);\n  return (\n    <main className={classes.container}>\n      <Grid className={classes.container}>\n        <Sidebar/>\n        {isCreate ? <Create/> : (\n          <section className={classes.list}>\n            <header className={clsx(classes.header)}>\n              <h1>All projects</h1>\n              <button\n                type=\"button\"\n                className={classes.button}\n                onClick={() => history.push('/dataset/')}\n              >\n                Create New\n              </button>\n            </header>\n            {datasets.map((ds, i) => (\n              <div key={`ds-${i + 1}`} className={classes.listItem} onClick={() => { history.push(`/dataset/${i}`); }}>\n                <div className={classes.text}>\n                  <Typography\n                    fontWeight={500}\n                    fontSize={1.25}\n                    interactive\n                  >\n                    {ds.name}\n                  </Typography>\n                  <p>\n                    <span className=\"interactive\" onClick={(e) => { e.stopPropagation(); handleRenameDataset(i); }}>Rename</span> |{' '}\n                    <span onClick={(e) => { e.stopPropagation(); handleDeleteDataset(i); }} style={{ color: 'red' }} className=\"interactive\">\n                      Delete\n                    </span>\n                  </p>\n                  <Typography>\n                    {ds.images.length > 1\n                      ? `${ds.images.length} images`\n                      : `${ds.images.length} image`}\n                  </Typography>\n                </div>\n                <img\n                  alt=\"\"\n                  src={ds.images[0]?.src ?? 'https://picsum.photos/1920/1080'}\n                  className={classes.image}\n                />\n              </div>\n            ))}\n          </section>\n        )}\n      </Grid>\n    </main>\n  );\n}\n","import { ReactElement } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport DataSets from '../components/datasets/DataSets';\r\nimport theme from '../styles/theme';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    container: {\r\n        backgroundColor: theme.color.secondary,\r\n    },\r\n}));\r\nexport default function DatasetsView(): ReactElement {\r\n    const classes = useStyles();\r\n    return (\r\n      <div className={classes.container}>\r\n        <DataSets/>\r\n      </div>\r\n    );\r\n}\r\n","import { ReactElement } from 'react';\r\nimport ReactImageAnnotate from 'react-image-annotate';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Image } from '../../models/dataset';\r\nimport { updateDataset } from '../../redux/actions/datasets';\r\n\r\ninterface AnnotationProps {\r\n    images: Array<Image>;\r\n    id: number;\r\n    onExit: () => void;\r\n}\r\n\r\nexport default function Annotation({ images, id, onExit } : AnnotationProps): ReactElement {\r\n  const dispatch = useDispatch();\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const handleExit = (data: any) => {\r\n    const annotations = data.images;\r\n    dispatch(updateDataset({ id, images: annotations }));\r\n    onExit();\r\n  };\r\n    return (\r\n      <ReactImageAnnotate\r\n        labelImages\r\n        regionClsList={['']}\r\n        images={images}\r\n        onExit={handleExit}\r\n      />\r\n    );\r\n}\r\n","import { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { ReactElement, useEffect, useState } from 'react';\nimport { Image } from '../../models/dataset';\n\nconst useStyles = makeStyles(() => ({\n  grid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, 84px)',\n    gridAutoRows: '84px',\n    gridGap: '0.5rem',\n  },\n  gridItem: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  canvas: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n  },\n  img: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n  },\n}));\n\ninterface AnnotableImagesProps {\n  images: Array<Image>;\n  handleClick: () => void;\n}\n\nconst drawBox = (\n  context: CanvasRenderingContext2D,\n  imageElem: HTMLImageElement,\n  points: { w: number; h: number; x: number; y: number },\n  color: string,\n): void => {\n  context.strokeStyle = color ?? 'red';\n  context.fillStyle = `${color}2a` ?? 'red';\n  context?.strokeRect(\n    imageElem.offsetLeft + imageElem.width * points.x,\n    imageElem.offsetTop + imageElem.height * points.y,\n    imageElem.width * points.w,\n    imageElem.height * points.h,\n  );\n  context?.fillRect(\n    imageElem.offsetLeft + imageElem.width * points.x,\n    imageElem.offsetTop + imageElem.height * points.y,\n    imageElem.width * points.w,\n    imageElem.height * points.h,\n  );\n};\n\nconst drawPolygon = (\n  context: CanvasRenderingContext2D,\n  imageElem: HTMLImageElement,\n  points: Array<[number, number]>,\n  color: string,\n) => {\n  context.strokeStyle = color ?? 'red';\n  context.fillStyle = `${color}2a` ?? 'red';\n  context.moveTo(\n    imageElem.offsetLeft + points[0][0] * imageElem.width,\n    imageElem.offsetTop + points[0][1] * imageElem.height,\n  );\n  points.forEach((p, i) => {\n    if (i !== 0) {\n      const [x, y] = p;\n      context.lineTo(\n        imageElem.offsetLeft + x * imageElem.width,\n        imageElem.offsetTop + y * imageElem.height,\n      );\n    }\n  });\n  context.closePath();\n  context.stroke();\n  context.fill();\n};\n\nexport default function AnnotableImages({\n  images,\n  handleClick,\n}: AnnotableImagesProps): ReactElement {\n  const classes = useStyles();\n  const [showMore, setShowMore] = useState<boolean>(false);\n  const handleImageLoaded = (image: Image, i: number): void => {\n    const imageElem: HTMLImageElement = document.querySelector(\n      `#image-${i + 1}`,\n    ) as HTMLImageElement;\n    const canvasElem: HTMLCanvasElement = imageElem?.previousElementSibling as HTMLCanvasElement;\n    const containerElem = imageElem?.parentElement;\n    if (canvasElem && imageElem) {\n      const context = canvasElem.getContext('2d');\n      canvasElem.width = containerElem?.offsetWidth ?? 0;\n      canvasElem.height = containerElem?.offsetHeight ?? 0;\n      context?.beginPath();\n      image.regions.forEach((region) => {\n        if (region.type === 'box' && context) {\n          drawBox(context, imageElem, region, region.color);\n        } else if (region.type === 'polygon' && context) {\n          drawPolygon(context, imageElem, region.points, region.color);\n        }\n      });\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const showMoreFilter = (v: any, i: number) => {\n    if (!showMore) return i < 30;\n    return true;\n  };\n  useEffect(() => {\n    images.filter(showMoreFilter).forEach((image, i) => {\n      const imageElem: HTMLImageElement = document.querySelector(\n        `#image-${i + 1}`,\n      ) as HTMLImageElement;\n      const canvasElem: HTMLCanvasElement = imageElem?.previousElementSibling as HTMLCanvasElement;\n      const containerElem = imageElem?.parentElement;\n      if (canvasElem && imageElem) {\n        const context = canvasElem.getContext('2d');\n        canvasElem.width = containerElem?.offsetWidth ?? 0;\n        canvasElem.height = containerElem?.offsetHeight ?? 0;\n        context?.beginPath();\n        image.regions.forEach((region) => {\n          if (region.type === 'box' && context) {\n            drawBox(context, imageElem, region, region.color);\n          } else if (region.type === 'polygon' && context) {\n            drawPolygon(context, imageElem, region.points, region.color);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [images, showMore]);\n\n  return (\n    <>\n      <div className={classes.grid}>\n        {images.filter(showMoreFilter).map((image, i) => (\n          <div key={`image ${i + 1}`} className={classes.gridItem}>\n            <canvas\n              onClick={handleClick}\n              className={clsx(classes.canvas, 'interactive')}\n            />\n            <img\n              className={classes.img}\n              src={image.src}\n              alt=\"\"\n              width={image?.pixelSize?.w ?? ''}\n              height={image?.pixelSize?.h ?? ''}\n              id={`image-${i + 1}`}\n              onLoad={() => handleImageLoaded(image, i)}\n            />\n          </div>\n        ))}\n      </div>\n      {images.length > 30 ? (\n        <div\n          className=\"mt-3 interactive\"\n          style={{ color: '#0064bd' }}\n          onClick={() => setShowMore((s) => !s)}\n        >\n          {showMore ? 'Show less' : `View all images (${images.length})`}\n        </div>\n      ) : null}\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/styles';\nimport { ReactElement, ChangeEvent, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouteMatch } from 'react-router';\nimport { DataSetState, ReduxStoreType } from '../../models/reduxStore';\nimport Typography from '../common/Typography';\nimport Grid from '../common/Grid';\nimport Popup from 'reactjs-popup';\nimport Annotation from './Annotation';\nimport AnnotableImages from './â€ŽAnnotableImages';\nimport { Image } from '../../models/dataset';\nimport { addImages } from '../../redux/actions/datasets';\n// import { addImages } from '../../redux/actions/datasets';\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    borderBottom: '1px solid #e7e8e8',\n    height: '5rem',\n    '& > h1': {\n      margin: '.8rem 1rem 1.3rem .5rem',\n    },\n  },\n  container: {\n    height: 'calc(100vh - 62px)',\n  },\n  details: {\n    padding: '2rem',\n    width: '80%',\n    overflowY: 'auto',\n  },\n  subContainer: {\n    background: 'white',\n    padding: '1rem',\n    marginBottom: '2rem',\n  },\n  imagePreview: {\n    width: '100%',\n    maxWidth: '20%',\n    padding: '.5rem',\n  },\n  processOption: {\n    width: '49%',\n    background: 'white',\n    padding: '1rem',\n  },\n  button: {\n    border: '1px solid #b7b7b7',\n    background: '#EBEBEB',\n    padding: '3px 10px',\n  },\n}));\n\ninterface RouteMatchParams {\n  id: string;\n}\nexport default function Detail(): ReactElement {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const datasets = useSelector<ReduxStoreType, DataSetState>((s) => s.datasets);\n  const [open, setIsOpen] = useState<boolean>(false);\n  const fileInput = useRef<HTMLInputElement>(null);\n  const {\n    params: { id },\n  } = useRouteMatch<RouteMatchParams>();\n\n  const handleChooseFiles = () => {\n    if (fileInput !== null) {\n      fileInput.current?.click();\n    }\n  };\n\n  const readFileAsDataURL = (file: Blob, name: string): Promise<Image> =>\n    new Promise((res, rej) => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        if (reader && reader.result) {\n          res({\n            name,\n            src: reader.result as string,\n            regions: [],\n          });\n        }\n      };\n      reader.onerror = () => {\n        rej(reader);\n      };\n      reader.readAsDataURL(file);\n    });\n\n  const handleChangeImages = (e: ChangeEvent<HTMLInputElement>) => {\n    const readers = [];\n    const { files } = e.target;\n    if (files && files.length) {\n      for (let i = 0; i < files.length; i++) {\n        readers.push(readFileAsDataURL(files[i], files[i].name));\n      }\n    }\n    Promise.all(readers).then((values) => dispatch(addImages({ id: Number(id), images: values })));\n    e.preventDefault();\n  };\n\n  const closeModal = () => setIsOpen(false);\n  return (\n    <div className={classes.details}>\n      <div className={classes.subContainer}>\n        <Typography fontWeight={500} fontSize={1.25} interactive>\n          {datasets[Number(id)]?.name}\n        </Typography>\n        <Typography>\n          {datasets[Number(id)]?.images.length > 1\n            ? `${datasets[Number(id)]?.images.length} images`\n            : `${datasets[Number(id)]?.images.length} image`}\n        </Typography>\n      </div>\n      <div className={classes.subContainer}>\n        <Grid justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Images\n          </Typography>\n          <input\n            id=\"logo\"\n            type=\"file\"\n            style={{ display: 'none' }}\n            ref={fileInput}\n            multiple\n            accept=\".jpg, .png, .jpeg\"\n            onChange={handleChangeImages}\n          />\n          <button\n            className={classes.button}\n            onClick={handleChooseFiles}\n            type=\"button\"\n          >\n            Add More Images\n          </button>\n        </Grid>\n        <div>\n          <AnnotableImages\n            handleClick={() => setIsOpen(true)}\n            images={datasets[Number(id)]?.images ?? []}\n          />\n        </div>\n      </div>\n      <Grid justifyContent=\"space-between\">\n        <div className={classes.processOption}>\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Preprocessing Options\n          </Typography>\n          <Typography>Applied to all images</Typography>\n          <hr/>\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Auto-Orient\n          </Typography>\n          <Typography fontWeight={500} color=\"red\">\n            Remove\n          </Typography>\n          <hr/>\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Resize\n          </Typography>\n          <Typography fontWeight={500} color=\"red\">\n            Remove\n          </Typography>\n          <hr/>\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Grayscale\n          </Typography>\n          <Typography fontWeight={500} color=\"red\">\n            Remove\n          </Typography>\n        </div>\n        <div className={classes.processOption}>\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Augmentation Options\n          </Typography>\n          <Typography>Applied to all images</Typography>\n          <hr/>\n          <Typography fontWeight={500} fontSize={1.25} interactive>\n            Flip\n          </Typography>\n          <Typography fontWeight={500} color=\"red\">\n            Remove\n          </Typography>\n        </div>\n      </Grid>\n      <Popup\n        contentStyle={{ width: '80%', height: '80%' }}\n        open={open}\n        closeOnDocumentClick\n        onClose={closeModal}\n      >\n        <Annotation\n          images={datasets[Number(id)]?.images}\n          id={Number(id)}\n          onExit={() => setIsOpen(false)}\n        />\n      </Popup>\n    </div>\n  );\n}\n","import { ReactElement, useState, FormEvent } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { useHistory, useLocation } from 'react-router';\nimport { useDispatch } from 'react-redux';\nimport { renameDataset } from '../../redux/actions/datasets';\nimport Header from './Header';\nimport Alert from '../common/Alert';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    width: '80%',\n  },\n  button: {\n    border: '1px solid #b7b7b7',\n    background: '#EBEBEB',\n    padding: '3px 10px',\n  },\n  label: {\n    width: 100,\n  },\n  input: {\n    width: 250,\n  },\n  imagesPreview: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  imagePreview: {\n    width: '100%',\n    maxWidth: '20%',\n    padding: '.5rem',\n  },\n  fileInput: {\n    display: 'none',\n  },\n}));\nexport default function Edit(): ReactElement {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [error, setError] = useState<boolean>(false);\n  const [name, setName] = useState<string>('');\n  const { pathname } = useLocation();\n  const id = pathname.split('/').pop();\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (name) {\n      dispatch(renameDataset({ index: Number(id), name }));\n    history.push('/datasets');\n    }\n    else { setError(true); }\n  };\n\n  return (\n    <div className={classes.container}>\n      <Header/>\n      <form onSubmit={handleSubmit}>\n        <div className=\"m-3\">\n          <label htmlFor=\"name\" className={classes.label}>\n            Name\n          </label>\n          <input\n            id=\"name\"\n            className={classes.input}\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </div>\n        {error && !name && <div className=\"ml-3 w-25\"><Alert variant=\"error\">Name is required</Alert></div>}\n        <button type=\"submit\" className={clsx(classes.button, 'm-3')}>\n          Edit\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { ReactElement } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Detail from '../components/datasets/Detail';\nimport { Route, Switch, useRouteMatch } from 'react-router';\nimport Sidebar from '../components/datasets/Sidebar';\nimport Grid from '../components/common/Grid';\nimport Create from '../components/datasets/Create';\nimport Edit from '../components/datasets/Edit';\nimport theme from '../styles/theme';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    backgroundColor: theme.color.secondary,\n  },\n  main: {\n    height: 'calc(100vh - 62px)',\n  },\n  list: {\n    paddingBottom: '1rem',\n    width: '80%',\n  },\n  listItem: {\n    display: 'flex',\n    background: theme.color.white,\n    margin: '1.5rem',\n    padding: '1rem',\n    borderRadius: 10,\n  },\n  text: {\n    flex: 1,\n  },\n  image: {\n    width: '250px',\n  },\n}));\n\nexport default function DatasetView(): ReactElement {\n  const classes = useStyles();\n  const match = useRouteMatch();\n  return (\n    <div className={classes.container}>\n      <main>\n        <Grid className={classes.main}>\n          <Sidebar/>\n          <Switch>\n            <Route path={`${match.url}/edit/:id`} component={Edit}/>\n            <Route path={`${match.url}/:id`} component={Detail}/>\n            <Route exact path={`${match.url}`} component={Create}/>\n          </Switch>\n        </Grid>\n      </main>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/blacklogo.2f844d87.jpg\";","export function sendSocketMessage(socket: WebSocket, message: string): void {\r\n  if (socket.readyState === 1) {\r\n    socket.send(message);\r\n  }\r\n}\r\n","import { makeStyles } from '@material-ui/styles';\r\nimport clsx from 'clsx';\r\nimport { ReactElement } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { FeatureType } from '../../models/features';\r\nimport {\r\n  FeaturesStateType,\r\n  ReduxStoreType,\r\n  ServerInfoStateType,\r\n  SocketStateType,\r\n} from '../../models/reduxStore';\r\nimport { sendSocketMessage } from '../../utils/socket';\r\nimport { camelCaseToKebabCase, toCapitalCase } from '../../utils/string';\r\nconst useStyles = makeStyles(() => ({\r\n  features: {\r\n    borderRight: '1px solid #e7e8e8',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '20%',\r\n    paddingTop: '1rem',\r\n    overflowY: 'auto',\r\n    '& > span': {\r\n      margin: '6px',\r\n      padding: '6px',\r\n      border: 'solid 1px #b7b7b7',\r\n      cursor: 'pointer',\r\n    },\r\n    '& input': {\r\n      marginLeft: 'auto',\r\n    },\r\n  },\r\n  feature: {\r\n    background: '#EBEBEB',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  version: {\r\n    padding: '20px',\r\n    marginTop: 'auto',\r\n  },\r\n}));\r\nexport default function Features(): ReactElement {\r\n  const classes = useStyles();\r\n  const serverInfo = useSelector<ReduxStoreType, ServerInfoStateType>(\r\n    (s) => s.serverInfo,\r\n  );\r\n  const features = useSelector<ReduxStoreType, FeaturesStateType>(\r\n    (s) => s.features,\r\n  );\r\n  const socket = useSelector<ReduxStoreType, SocketStateType>((s) => s.socket);\r\n  const handleChangeFeatures = (feature: FeatureType) => () => {\r\n    if (socket) {\r\n      sendSocketMessage(socket, `toggle-${camelCaseToKebabCase(feature)}`);\r\n    }\r\n  };\r\n  const handleChangeClasses = (model: string) => () => {\r\n    if (socket) {\r\n      sendSocketMessage(socket, `toggle-model-class ${model}`);\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"features-section\" className={classes.features}>\r\n      <span\r\n        id=\"cmd-toggle-detection\"\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('detection')}\r\n      >\r\n        <span>Object Detection</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={features.detection}\r\n          checked={Boolean(features.detection)}\r\n          onChange={handleChangeFeatures('detection')}\r\n        />\r\n      </span>\r\n      <span className={classes.feature}>Toggle Model</span>\r\n      {Object.keys(features.classes).map((k) => (\r\n        <span\r\n          key={k}\r\n          id=\"cmd-toggle-single-tracking\"\r\n          className={clsx(classes.feature, 'ml-4')}\r\n          onClick={handleChangeClasses(k)}\r\n        >\r\n          <span>{toCapitalCase(k)}</span>\r\n          <input\r\n            type=\"checkbox\"\r\n            value={features.classes[k]}\r\n            checked={Boolean(features.classes[k])}\r\n          />\r\n        </span>\r\n      ))}\r\n      <span\r\n        id=\"cmd-toggle-single-tracking\"\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('singleTracking')}\r\n      >\r\n        <span>Single Object Tracking</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={features.singleTracking}\r\n          checked={Boolean(features.singleTracking)}\r\n          onChange={handleChangeFeatures('singleTracking')}\r\n        />\r\n      </span>\r\n      <span\r\n        id=\"cmd-toggle-face-redaction\"\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('faceRedaction')}\r\n      >\r\n        <span>Face Redaction</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={handleChangeFeatures('faceRedaction')}\r\n          value={features.faceRedaction}\r\n          checked={Boolean(features.faceRedaction)}\r\n        />\r\n      </span>\r\n      <span\r\n        id=\"cmd-toggle-face-redaction\"\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('aruco')}\r\n      >\r\n        <span>ArUco Marker</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={handleChangeFeatures('aruco')}\r\n          value={features.aruco}\r\n          checked={Boolean(features.aruco)}\r\n        />\r\n      </span>\r\n      <span\r\n        id=\"cmd-toggle-stabilization\"\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('stabilization')}\r\n      >\r\n        <span>Video Stabilization</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={features.stabilization}\r\n          checked={Boolean(features.stabilization)}\r\n          onChange={handleChangeFeatures('stabilization')}\r\n        />\r\n      </span>\r\n      <span\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('graphicsDisplay')}\r\n      >\r\n        <span>On Screen Display</span>\r\n        <input\r\n          checked={Boolean(features.graphicsDisplay)}\r\n          onChange={handleChangeFeatures('graphicsDisplay')}\r\n          type=\"checkbox\"\r\n          value={features.graphicsDisplay}\r\n        />\r\n      </span>\r\n      <span\r\n        className={classes.feature}\r\n        onClick={handleChangeFeatures('cameraCalibration')}\r\n      >\r\n        <span>Calibrate Mode</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={features.cameraCalibration}\r\n          checked={Boolean(features.cameraCalibration)}\r\n          onChange={handleChangeFeatures('cameraCalibration')}\r\n        />\r\n      </span>\r\n      <div id=\"server-version\" className={classes.version}>\r\n        {serverInfo.version ? `Server ${serverInfo.version}` : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { ServerInfoType } from '../../models/serverInfo';\r\n\r\n/* eslint-disable no-unused-vars, no-shadow*/\r\nexport enum ServerInfoActionTypes {\r\n  CONNECT_SERVER = '@@serverInfo/CONNECT_SERVER',\r\n  SAVE_SERVER_INFO = '@@serverInfo/SAVE_SERVER_INFO',\r\n  SAVE_VIDEO_INFO = '@@serverInfo/SAVE_VIDEO_INFO',\r\n  SHUTDOWN_SERVER = '@@serverInfo/SHUTDOWN_SERVER',\r\n  CHANGE_SERVER_IN = '@@serverInfo/CHANGE_SERVER_IN',\r\n  CHANGE_SERVER_OUT = '@@serverInfo/CHANGE_SERVER_OUT',\r\n}\r\n\r\ninterface ActionConnectServer {\r\n  type: ServerInfoActionTypes.CONNECT_SERVER;\r\n  payload: Pick<ServerInfoType, 'address' | 'port'>;\r\n}\r\n\r\ninterface ActionSaveServerInfo {\r\n  type: ServerInfoActionTypes.SAVE_SERVER_INFO;\r\n  payload: Pick<ServerInfoType, 'version' | 'serverIn' | 'serverOut'>;\r\n}\r\n\r\ninterface ActionSaveVideoInfo {\r\n  type: ServerInfoActionTypes.SAVE_VIDEO_INFO;\r\n  payload: Pick<\r\n    ServerInfoType,\r\n    'width' | 'height' | 'fpsCap' | 'fpsDet' | 'delay'\r\n  >;\r\n}\r\n\r\ninterface ActionChangeServerIn {\r\n  type: ServerInfoActionTypes.CHANGE_SERVER_IN;\r\n  payload: string;\r\n}\r\n\r\ninterface ActionChangeServerOut {\r\n  type: ServerInfoActionTypes.CHANGE_SERVER_OUT;\r\n  payload: string;\r\n}\r\n\r\ninterface ActionShutdownServer {\r\n  type: ServerInfoActionTypes.SHUTDOWN_SERVER;\r\n}\r\n\r\nexport type ServerInfoActions =\r\n  | ActionConnectServer\r\n  | ActionSaveServerInfo\r\n  | ActionSaveVideoInfo\r\n  | ActionChangeServerIn\r\n  | ActionChangeServerOut\r\n  | ActionShutdownServer;\r\n\r\nexport const connectServer = ({\r\n  address,\r\n  port,\r\n}: Pick<ServerInfoType, 'address' | 'port'>): ActionConnectServer => ({\r\n  type: ServerInfoActionTypes.CONNECT_SERVER,\r\n  payload: {\r\n    address,\r\n    port,\r\n  },\r\n});\r\n\r\nexport const saveServerInfo = ({\r\n  version,\r\n  serverIn,\r\n  serverOut,\r\n}: Pick<\r\n  ServerInfoType,\r\n  'version' | 'serverIn' | 'serverOut'\r\n>): ActionSaveServerInfo => ({\r\n  type: ServerInfoActionTypes.SAVE_SERVER_INFO,\r\n  payload: {\r\n    version,\r\n    serverIn,\r\n    serverOut,\r\n  },\r\n});\r\n\r\nexport const saveVideoInfo = ({\r\n  width,\r\n  height,\r\n  fpsCap,\r\n  fpsDet,\r\n  delay,\r\n}: Pick<\r\n  ServerInfoType,\r\n  'width' | 'height' | 'fpsCap' | 'fpsDet' | 'delay'\r\n>): ActionSaveVideoInfo => ({\r\n  type: ServerInfoActionTypes.SAVE_VIDEO_INFO,\r\n  payload: {\r\n    width,\r\n    height,\r\n    fpsCap,\r\n    fpsDet,\r\n    delay,\r\n  },\r\n});\r\n\r\nexport const changeServerIn = (src: string): ServerInfoActions => ({\r\n  type: ServerInfoActionTypes.CHANGE_SERVER_IN,\r\n  payload: src,\r\n});\r\n\r\nexport const changeServerOut = (src: string): ServerInfoActions => ({\r\n  type: ServerInfoActionTypes.CHANGE_SERVER_OUT,\r\n  payload: src,\r\n});\r\n\r\nexport const shutdownServer = (): ServerInfoActions => ({\r\n  type: ServerInfoActionTypes.SHUTDOWN_SERVER,\r\n});\r\n","export function camelCaseToKebabCase (str: string): string {\r\n    return str.replace(/[A-Z]/g, letter => `-${letter.toLowerCase()}`);\r\n}\r\nexport function toCapitalCase (str: string) : string {\r\n    return str.substr(0, 1).toUpperCase() + str.substr(1);\r\n}\r\n","/* eslint-disable no-unused-vars, no-shadow*/\r\nexport enum SocketActionTypes {\r\n  SAVE_SOCKET = '@@socket/SAVE_SOCKET',\r\n  CLOSE_SOCKET = '@@socket/CLOSE_SOCKET'\r\n}\r\n\r\ninterface ActionSaveSocket {\r\n  type: SocketActionTypes.SAVE_SOCKET;\r\n  payload: WebSocket;\r\n}\r\n\r\ninterface ActionCloseSocket {\r\n type: SocketActionTypes.CLOSE_SOCKET;\r\n}\r\n\r\nexport type SocketActions = ActionSaveSocket | ActionCloseSocket;\r\n\r\nexport const saveSocket = (payload: WebSocket): ActionSaveSocket => ({\r\n  type: SocketActionTypes.SAVE_SOCKET,\r\n  payload,\r\n});\r\n\r\nexport const closeSocket = (): ActionCloseSocket => ({\r\n  type: SocketActionTypes.CLOSE_SOCKET,\r\n});\r\n","import { makeStyles } from '@material-ui/styles';\r\nimport clsx from 'clsx';\r\nimport { ChangeEvent, ReactElement, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ReduxStoreType, SocketStateType } from '../../models/reduxStore';\r\nimport { ServerInfoType } from '../../models/serverInfo';\r\nimport { connectServer, shutdownServer } from '../../redux/actions/serverInfo';\r\nimport { closeSocket } from '../../redux/actions/socket';\r\nconst useStyles = makeStyles(() => ({\r\n  header: {\r\n    borderBottom: '1px solid #e7e8e8',\r\n    height: '5rem',\r\n  },\r\n  serverInfo: {\r\n    marginLeft: 'auto',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    '& input': {\r\n      width: '125px',\r\n      outline: 'none',\r\n      margin: '1rem 1rem 1rem .5rem',\r\n    },\r\n    '& label': {\r\n      marginBottom: 0,\r\n    },\r\n  },\r\n  button: {\r\n    border: '1px solid #b7b7b7',\r\n    background: '#EBEBEB',\r\n    padding: '3px 10px',\r\n    '&.active': {\r\n      background: '#12ef8c',\r\n      color: 'white',\r\n      padding: '3px 10px',\r\n      border: '1px solid #b7b7b7',\r\n    },\r\n  },\r\n}));\r\nexport default function Header(): ReactElement {\r\n  const classes = useStyles();\r\n  const [address, setAddress] = useState<string>('192.168.99.188');\r\n  const [port, setPort] = useState<number>(8673);\r\n  const serverInfo = useSelector<ReduxStoreType, ServerInfoType>(\r\n    (s) => s.serverInfo,\r\n  );\r\n  const socket = useSelector<ReduxStoreType, SocketStateType>((s) => s.socket);\r\n  const dispatch = useDispatch();\r\n\r\n  const changeAddress = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setAddress(e.target.value);\r\n  };\r\n\r\n  const changePort = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setPort(Number(e.target.value));\r\n  };\r\n\r\n  const handleConnect = (): void => {\r\n    if (socket) {\r\n      socket.close();\r\n      dispatch(closeSocket());\r\n      dispatch(shutdownServer());\r\n    }\r\n    else {\r\n      dispatch(connectServer({ address, port }));\r\n    }\r\n  };\r\n  return (\r\n    <header className={clsx(classes.header)}>\r\n      <h1>Client</h1>\r\n      <div id=\"server-info\" className={classes.serverInfo}>\r\n        <label htmlFor=\"server-address\">Server Network Address</label>\r\n        <input\r\n          id=\"server-address\"\r\n          type=\"text\"\r\n          value={address}\r\n          onChange={changeAddress}\r\n        />\r\n        <label htmlFor=\"server-port\">Port</label>\r\n        <input\r\n          id=\"server-port\"\r\n          type=\"number\"\r\n          role=\"textbox\"\r\n          value={port}\r\n          onChange={changePort}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          id=\"btn-connect\"\r\n          className={clsx(classes.button, serverInfo.version && 'active')}\r\n          onClick={handleConnect}\r\n        >\r\n          {serverInfo.version ? 'Connected' : 'Connect'}\r\n        </button>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { ReactElement, useEffect, useRef, useState, MouseEvent } from 'react';\nimport { useSelector } from 'react-redux';\nimport blackLogo from '../../assets/images/blacklogo.jpg';\nimport {\n  FeaturesStateType,\n  ObjectsStateType,\n  ReduxStoreType,\n  SocketStateType,\n} from '../../models/reduxStore';\nimport { ServerInfoType } from '../../models/serverInfo';\nimport theme from '../../styles/theme';\nimport { drawRect } from '../../utils/canvas';\nimport { sendSocketMessage } from '../../utils/socket';\nimport Features from './Features';\nimport Header from './Header';\nconst useStyles = makeStyles(() => ({\n  button: {\n    border: '1px solid #b7b7b7',\n    background: '#EBEBEB',\n    padding: '3px 10px',\n  },\n  mainSection: {\n    display: 'flex',\n  },\n  mainInfo: {\n    fontWeight: 'bold',\n    fontSize: '1.1em',\n    marginLeft: '.5rem',\n  },\n  video: {\n    width: '50%',\n    flex: 1,\n    padding: '1rem',\n    overflowY: 'auto',\n  },\n  videoInput: {\n    display: 'flex',\n    alignItems: 'center',\n    '& label': {\n      width: '20%',\n      marginBottom: 0,\n    },\n    '& input': {\n      flex: 1,\n    },\n    '& span': {\n      width: '10%',\n      textAlign: 'center',\n    },\n  },\n  preview: {\n    position: 'relative',\n    '& img, canvas, video': {\n      width: '100%',\n    },\n    '& canvas': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      height: '100%',\n    },\n  },\n  json: {\n    width: '30%',\n    // height: 'calc(100vh - 1000px)',\n    overflowY: 'auto',\n    paddingTop: '1rem',\n    [theme.breakpoints.down.md]: {\n      display: 'none',\n    },\n  },\n}));\nlet context: CanvasRenderingContext2D;\nexport default function Client(): ReactElement {\n  const classes = useStyles();\n  const canvas = useRef<HTMLCanvasElement>(null);\n  const [serverIn, setServerIn] = useState<string>('');\n  const [serverOut, setServerOut] = useState<string>('');\n  const [clientIn, setClientIn] = useState<string>('');\n  const [videoSrc, setVideoSrc] = useState<string>('');\n  const socket = useSelector<ReduxStoreType, SocketStateType>((s) => s.socket);\n  const serverInfo = useSelector<ReduxStoreType, ServerInfoType>(\n    (s) => s.serverInfo,\n  );\n  const features = useSelector<ReduxStoreType, FeaturesStateType>(\n    (s) => s.features,\n  );\n  const objects = useSelector<ReduxStoreType, ObjectsStateType>(\n    (s) => s.objects,\n  );\n  const handleUpdateServerIn = (): void => {\n    if (socket) {\n      sendSocketMessage(socket, `update-server-video-in ${serverIn}`);\n    }\n  };\n  const handleUpdateServerOut = (): void => {\n    if (socket) {\n      sendSocketMessage(socket, `update-server-video-out ${serverOut}`);\n    }\n  };\n  const handleUpdateClientIn = (): void => {\n    setVideoSrc(clientIn);\n  };\n  const handleShutdownServer = (): void => {\n    if (socket) {\n      sendSocketMessage(socket, 'shutdown');\n    }\n  };\n  const hanldeSingleTrack = (e: MouseEvent<HTMLCanvasElement>): void => {\n    if (socket && canvas.current) {\n      const rect = canvas.current?.getBoundingClientRect();\n      const x = parseInt(\n        (\n          ((e.clientX - rect.left) * canvas.current.width) /\n          rect.width\n        ).toString(),\n      );\n\n      const y = parseInt(\n        (\n          ((e.clientY - rect.top) * canvas.current.height) /\n          rect.height\n        ).toString(),\n      );\n      sendSocketMessage(socket, `single-track ${x} ${y}`);\n    }\n  };\n\n  useEffect(() => {\n    if (features.graphicsDisplay && context) {\n      context.clearRect(\n        0,\n        0,\n        canvas.current?.width ?? 0,\n        canvas.current?.height ?? 0,\n      );\n      objects.forEach(({ singleTracking, x, y, w, h }) => {\n        drawRect({ context, singleTracking, x, y, w, h });\n      });\n    }\n  }, [features, objects]);\n\n  useEffect(() => {\n    if (\n      serverInfo.serverIn !== serverIn ||\n      serverInfo.serverOut !== serverOut\n    ) {\n      setServerIn(serverInfo.serverIn);\n      setServerOut(serverInfo.serverOut);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [serverInfo]);\n\n  useEffect(() => {\n    if (canvas && canvas.current) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      context = canvas.current.getContext('2d')!;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <main>\n      <Header/>\n      <div id=\"main-info\" className={classes.mainInfo}>\n        {serverInfo.width\n          ? `${serverInfo.width} x ${serverInfo.height} | MP4 | FPS Capture: ${serverInfo.fpsCap} | FPS DEtection: ${serverInfo.fpsDet} | Delay: ${serverInfo.delay}ms`\n          : null}\n      </div>\n      <div\n        id=\"main-section\"\n        className={classes.mainSection}\n        style={{\n          height: `calc(100vh - 5rem - 62px - ${\n            serverInfo.width ? '26px' : '0px'\n          })`,\n        }}\n      >\n        <Features/>\n        <div className={classes.video}>\n          <div id=\"video-preview\" className={classes.preview}>\n            <img\n              src={blackLogo}\n              alt=\"\"\n              style={{ display: !videoSrc ? 'block' : 'none' }}\n            />\n            <video\n              src={videoSrc}\n              autoPlay\n              style={{ display: videoSrc ? 'block' : 'none' }}\n              data-vscid=\"bdogi47m3\"\n            />\n            <canvas\n              style={{ display: !videoSrc ? 'block' : 'none' }}\n              id=\"canvas-bounding-box\"\n              onMouseUp={hanldeSingleTrack}\n              ref={canvas}\n              width={serverInfo.width || 1920}\n              height={serverInfo.height || 1080}\n            />\n          </div>\n          <div className={clsx(classes.videoInput, 'my-2')}>\n            <label htmlFor=\"server-video-in\">Server Video In</label>\n            <input\n              id=\"server-video-in\"\n              type=\"text\"\n              value={serverIn}\n              onChange={(e) => setServerIn(e.target.value)}\n            />\n            <button\n              type=\"button\"\n              className={clsx(classes.button, 'm-2')}\n              onClick={handleUpdateServerIn}\n            >\n              Update\n            </button>\n          </div>\n          <div className={clsx(classes.videoInput, 'my-2')}>\n            <label htmlFor=\"server-video-out\">Server Video Out</label>\n            <input\n              id=\"server-video-out\"\n              type=\"text\"\n              value={serverOut}\n              onChange={(e) => setServerOut(e.target.value)}\n            />\n            <button\n              type=\"button\"\n              className={clsx(classes.button, 'm-2')}\n              onClick={handleUpdateServerOut}\n            >\n              Update\n            </button>\n          </div>\n          <div className={clsx(classes.videoInput, 'my-2')}>\n            <label htmlFor=\"client-video-in\">Client Video In</label>\n            <input\n              id=\"client-video-in\"\n              type=\"text\"\n              value={clientIn}\n              onChange={(e) => setClientIn(e.target.value)}\n            />\n            <button\n              type=\"button\"\n              className={clsx(classes.button, 'm-2')}\n              onClick={handleUpdateClientIn}\n            >\n              Update\n            </button>\n          </div>\n          <button\n            type=\"button\"\n            className={classes.button}\n            onClick={handleShutdownServer}\n          >\n            Shutdown Server\n          </button>\n        </div>\n        <div id=\"json-section\" className={classes.json}>\n          <pre>{objects.length ? JSON.stringify(objects, null, 2) : null}</pre>\n        </div>\n      </div>\n    </main>\n  );\n}\n","interface DrawReactParams {\r\n  context: CanvasRenderingContext2D;\r\n  singleTracking: boolean;\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n}\r\n\r\nexport function drawRect({\r\n  context,\r\n  singleTracking,\r\n  x,\r\n  y,\r\n  w,\r\n  h,\r\n}: DrawReactParams): void {\r\n  context.beginPath();\r\n  context.strokeStyle = singleTracking ? '#ffa500' : '#50ff00';\r\n  context.lineWidth = 2;\r\n  context.rect(x, y, w, h);\r\n  context.stroke();\r\n}\r\n","import { ReactElement } from 'react';\r\nimport Client from '../components/client/Client';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport theme from '../styles/theme';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    container: {\r\n        backgroundColor: theme.color.secondary,\r\n    },\r\n}));\r\nexport default function HomeView(): ReactElement {\r\n    const classes = useStyles();\r\n    return (\r\n      <div className={classes.container}>\r\n        <Client/>\r\n      </div>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6f28cb85.jpg\";","import { makeStyles } from '@material-ui/styles';\r\nimport clsx from 'clsx';\r\nimport { ReactElement, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../assets/images/logo.jpg';\r\nimport theme from '../../styles/theme';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  header: {\r\n    background: theme.color.white,\r\n  },\r\n  navItem: {\r\n    marginLeft: '60px',\r\n    fontSize: '1.1em',\r\n    padding: '2px 8px',\r\n    color: theme.color.black,\r\n    '&.active': {\r\n      borderBottom: `5px solid ${theme.color.primary}`,\r\n    },\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n      color: theme.color.black,\r\n    },\r\n  },\r\n}));\r\nconst navItems = [\r\n  {\r\n    id: 0,\r\n    name: 'Client',\r\n    link: '/',\r\n  },\r\n  {\r\n    id: 1,\r\n    name: 'Datasets',\r\n    link: '/datasets',\r\n  },\r\n];\r\nexport default function Header(): ReactElement {\r\n  const classes = useStyles();\r\n  const [activeTab, setActiveTab] = useState<number>(0);\r\n  useEffect(() => {\r\n    if (window.location.pathname.includes('dataset')) {\r\n      setActiveTab(1);\r\n    }\r\n  }, []);\r\n  return (\r\n    <header className={classes.header}>\r\n      <img src={logo} height={50}/>\r\n      {navItems.map((item) => (\r\n        <Link\r\n          key={item.id}\r\n          className={clsx(classes.navItem, activeTab === item.id && 'active')}\r\n          to={item.link}\r\n          onClick={() => setActiveTab(item.id)}\r\n        >\r\n          {item.name}\r\n        </Link>\r\n      ))}\r\n    </header>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/styles';\r\nimport { ReactElement } from 'react';\r\nimport theme from '../../styles/theme';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    footer: {\r\n        position: 'fixed',\r\n        bottom: '20px',\r\n        right: '20px',\r\n        textAlign: 'right',\r\n        marginLeft: 'auto',\r\n        marginRight: '20px',\r\n        height: '24px',\r\n        background: theme.color.secondary,\r\n        padding: '16px',\r\n        lineHeight: 0,\r\n    },\r\n}));\r\nexport default function Footer(): ReactElement {\r\n    const classes = useStyles();\r\n    return <footer className={classes.footer}>Client V0.1.0</footer>;\r\n}\r\n","import { ReactElement } from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\r\nimport DatasetsView from '../views/Datasets';\r\nimport DatasetView from '../views/Dataset';\r\nimport HomeView from '../views/Home';\r\nimport Header from '../components/common/Header';\r\nimport Footer from '../components/common/Footer';\r\n\r\nexport default function AppRouter(): ReactElement {\r\n    return (\r\n      <Router>\r\n        <Header/>\r\n        <Switch>\r\n          <Route path=\"/datasets\" component={DatasetsView}/>\r\n          <Route path=\"/dataset\" component={DatasetView}/>\r\n          <Route path=\"/\" component={HomeView}/>\r\n          <Redirect to=\"/\"/>\r\n        </Switch>\r\n        <Footer/>\r\n      </Router>\r\n    );\r\n}\r\n","import { FeaturesType, FeatureType } from '../../models/features';\r\n\r\n/* eslint-disable no-unused-vars, no-shadow*/\r\nexport enum FeatureActionTypes {\r\n  SAVE_FEATURES = '@@features/SAVE_FEATURES',\r\n  CHANGE_FEATURE = '@@features/CHANGE_FEATURE',\r\n  CHANGE_MODEL = '@@features/CHANGE_MODEL',\r\n}\r\n\r\ninterface ActionSaveFeatures {\r\n  type: FeatureActionTypes.SAVE_FEATURES;\r\n  payload: FeaturesType;\r\n}\r\n\r\ninterface ActionChangeFeature {\r\n  type: FeatureActionTypes.CHANGE_FEATURE;\r\n  payload: FeatureType;\r\n}\r\n\r\ninterface ActionChangeModel {\r\n  type: FeatureActionTypes.CHANGE_MODEL;\r\n  payload: string;\r\n}\r\n\r\nexport type FeaturesActions =\r\n  | ActionSaveFeatures\r\n  | ActionChangeFeature\r\n  | ActionChangeModel;\r\n\r\nexport const saveFeatures = (payload: FeaturesType): ActionSaveFeatures => ({\r\n  type: FeatureActionTypes.SAVE_FEATURES,\r\n  payload,\r\n});\r\n\r\nexport const changeFeature = (payload: FeatureType): ActionChangeFeature => ({\r\n  type: FeatureActionTypes.CHANGE_FEATURE,\r\n  payload,\r\n});\r\n\r\nexport const changeModel = (payload: string): ActionChangeModel => ({\r\n  type: FeatureActionTypes.CHANGE_MODEL,\r\n  payload,\r\n});\r\n","import { ObjectType } from '../../models/objects';\r\n\r\n/* eslint-disable no-unused-vars, no-shadow*/\r\nexport enum ObjectsActionTypes {\r\n  SAVE_OBJECTS = '@@objects/SAVE_OBJECTS',\r\n}\r\n\r\ninterface ActionSaveObjects {\r\n  type: ObjectsActionTypes.SAVE_OBJECTS;\r\n  payload: Array<ObjectType>\r\n}\r\n\r\nexport type ObjectsActions = ActionSaveObjects;\r\n\r\nexport const saveObjects = (payload: Array<ObjectType>): ActionSaveObjects => ({\r\n  type: ObjectsActionTypes.SAVE_OBJECTS,\r\n  payload,\r\n});\r\n","import { FeaturesType } from '../../models/features';\r\nimport { FeaturesStateType } from '../../models/reduxStore';\r\nimport { FeaturesActions, FeatureActionTypes } from '../actions/features';\r\n\r\nconst initialState: FeaturesStateType = {\r\n  cameraCalibration: 0,\r\n  faceRedaction: 0,\r\n  graphicsDisplay: 0,\r\n  singleTracking: 0,\r\n  detection: 0,\r\n  stabilization: 0,\r\n  aruco: 0,\r\n  classes: {\r\n  },\r\n};\r\n\r\nexport default function (\r\n  state: FeaturesStateType,\r\n  action: FeaturesActions,\r\n): FeaturesStateType {\r\n  switch (action.type) {\r\n    case FeatureActionTypes.SAVE_FEATURES:\r\n      return { ...state, ...action.payload as FeaturesType };\r\n    default:\r\n      return state || initialState;\r\n  }\r\n}\r\n","import { NotificationType } from '../../models/notification';\r\n\r\n/* eslint-disable no-unused-vars, no-shadow*/\r\nexport enum NotificationActionTypes {\r\n  SEND_MESSAGE = '@@notification/SEND_MESSAGE',\r\n  HIDE_MESSAGE = '@@notification/HIDE_MESSAGE',\r\n}\r\n\r\ninterface ActionSendMessage {\r\n  type: NotificationActionTypes.SEND_MESSAGE;\r\n  payload: NotificationType;\r\n}\r\n\r\ninterface ActionHideMessage {\r\n  type: NotificationActionTypes.HIDE_MESSAGE;\r\n}\r\n\r\nexport type NotificationActions = ActionSendMessage | ActionHideMessage;\r\n\r\nexport const sendMessage = (payload: NotificationType): ActionSendMessage => ({\r\n  type: NotificationActionTypes.SEND_MESSAGE,\r\n  payload,\r\n});\r\n\r\nexport const hideMessage = (): ActionHideMessage => ({\r\n  type: NotificationActionTypes.HIDE_MESSAGE,\r\n});\r\n","import { ObjectsStateType } from '../../models/reduxStore';\r\nimport { ObjectsActions, ObjectsActionTypes } from '../actions/objects';\r\n\r\nconst initialState: ObjectsStateType = [];\r\n\r\nexport default function (\r\n  state: ObjectsStateType,\r\n  action: ObjectsActions,\r\n): ObjectsStateType {\r\n  switch (action.type) {\r\n    case ObjectsActionTypes.SAVE_OBJECTS:\r\n      return [...action.payload];\r\n    default:\r\n      return state || initialState;\r\n  }\r\n}\r\n","import { ServerInfoStateType } from '../../models/reduxStore';\r\nimport { ServerInfoType } from '../../models/serverInfo';\r\nimport { ServerInfoActions, ServerInfoActionTypes } from '../actions/serverInfo';\r\n\r\nconst initialState: ServerInfoStateType = {\r\n  address: '127.0.0.1',\r\n  port: 8673,\r\n  version: '',\r\n  serverIn: '',\r\n  serverOut: '',\r\n  delay: 0,\r\n  fpsCap: 0,\r\n  fpsDet: 0,\r\n  height: 0,\r\n  width: 0,\r\n  isConnect: false,\r\n};\r\n\r\nexport default function (\r\n  state: ServerInfoStateType,\r\n  action: ServerInfoActions,\r\n): ServerInfoStateType {\r\n  switch (action.type) {\r\n    case ServerInfoActionTypes.CONNECT_SERVER: {\r\n      const { address, port } = action.payload as ServerInfoType;\r\n      return { ...state, isConnect: true, address, port };\r\n    }\r\n    case ServerInfoActionTypes.SAVE_VIDEO_INFO: {\r\n      const {\r\n        width,\r\n        height,\r\n        fpsCap,\r\n        fpsDet,\r\n        delay,\r\n      } = action.payload as ServerInfoType;\r\n      return {\r\n        ...state,\r\n        isConnect: true,\r\n        width,\r\n        height,\r\n        fpsCap,\r\n        fpsDet,\r\n        delay,\r\n      };\r\n    }\r\n    case ServerInfoActionTypes.SAVE_SERVER_INFO: {\r\n      const { version, serverIn, serverOut } = action.payload as ServerInfoType;\r\n      return { ...state, isConnect: true, version, serverIn, serverOut };\r\n    }\r\n    case ServerInfoActionTypes.SHUTDOWN_SERVER:\r\n      return initialState;\r\n    default:\r\n      return state || initialState;\r\n  }\r\n}\r\n","import { NotificationStateType } from '../../models/reduxStore';\r\nimport { NotificationActions, NotificationActionTypes } from '../actions/notification';\r\n\r\nconst initialState: NotificationStateType = {\r\n  message: '',\r\n  variant: '',\r\n};\r\n\r\nexport default function (\r\n  state: NotificationStateType,\r\n  action: NotificationActions,\r\n): NotificationStateType {\r\n  switch (action.type) {\r\n    case NotificationActionTypes.SEND_MESSAGE:\r\n      return { ...action.payload };\r\n    case NotificationActionTypes.HIDE_MESSAGE:\r\n      return initialState;\r\n    default:\r\n      return state || initialState;\r\n  }\r\n}\r\n","import { DataSet } from '../../models/dataset';\r\nimport { DataSetState } from '../../models/reduxStore';\r\nimport { DatasetsActions, DataSetsActionTypes } from '../actions/datasets';\r\n\r\nconst initialState: DataSet[] = [];\r\n\r\nexport default function(\r\n  state: DataSetState,\r\n  action: DatasetsActions,\r\n): DataSetState {\r\n  switch (action.type) {\r\n    case DataSetsActionTypes.CREATE_DATASET: {\r\n      return [...state, action.payload];\r\n    }\r\n    case DataSetsActionTypes.UPDATE_DATASET: {\r\n      const newState = [...state];\r\n      const { id, images } = action.payload;\r\n      newState[id].images = images;\r\n      return newState;\r\n    }\r\n    case DataSetsActionTypes.ADD_IMAGES: {\r\n      const newState = [...state];\r\n      const { id, images } = action.payload;\r\n      newState[id].images = [...newState[id].images, ...images];\r\n      return newState;\r\n    }\r\n    case DataSetsActionTypes.RENAME_DATASET: {\r\n      const { index, name } = action.payload;\r\n      const newState = state.map((ds, i) => {\r\n        if (i === index) {\r\n          return {\r\n            ...ds,\r\n            name,\r\n          };\r\n        }\r\n        return ds;\r\n      });\r\n      return newState;\r\n    }\r\n    case DataSetsActionTypes.DELETE_DATASET: {\r\n      return [...state.filter((_, i) => i !== action.payload)];\r\n    }\r\n    default:\r\n      return initialState;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\n// import { createLogger } from 'redux-logger';\r\nimport features from './reducers/features';\r\nimport objects from './reducers/objects';\r\nimport socket from './reducers/socket';\r\nimport serverInfo from './reducers/serverInfo';\r\nimport notification from './reducers/notification';\r\nimport datasets from './reducers/datasets';\r\n\r\n// const logger = createLogger({\r\n//     // ...options\r\n// });\r\nconst reducers = combineReducers({\r\n    datasets,\r\n    features,\r\n    notification,\r\n    objects,\r\n    serverInfo,\r\n    socket,\r\n});\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\n// eslint-disable-next-line no-underscore-dangle\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst reduxStore = createStore(reducers, composeEnhancers(applyMiddleware()));\r\n\r\nexport default reduxStore;\r\n","import { ServerInfoType } from '../../models/serverInfo';\r\nimport { ServerInfoActions, ServerInfoActionTypes } from '../actions/serverInfo';\r\nimport { SocketActions, SocketActionTypes } from '../actions/socket';\r\nconst initialState: WebSocket | null = null;\r\n\r\nexport default function (\r\n  state: WebSocket | null,\r\n  action: ServerInfoActions | SocketActions,\r\n): WebSocket | null {\r\n  switch (action.type) {\r\n    case ServerInfoActionTypes.CONNECT_SERVER: {\r\n      const { address, port } = action.payload as ServerInfoType;\r\n      const socket = new WebSocket(`ws://${address}:${port}`);\r\n      return socket;\r\n    }\r\n    case SocketActionTypes.CLOSE_SOCKET: {\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state || initialState;\r\n  }\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  ReduxStoreType,\r\n  ServerInfoStateType,\r\n  SocketStateType,\r\n} from '../../models/reduxStore';\r\nimport { saveFeatures } from '../../redux/actions/features';\r\nimport { sendMessage } from '../../redux/actions/notification';\r\nimport { saveObjects } from '../../redux/actions/objects';\r\nimport { saveServerInfo, saveVideoInfo } from '../../redux/actions/serverInfo';\r\nimport { closeSocket } from '../../redux/actions/socket';\r\n\r\nexport default function Socket(): null {\r\n  const { isConnect } = useSelector<ReduxStoreType, ServerInfoStateType>(\r\n    (s) => s.serverInfo,\r\n  );\r\n  const socket = useSelector<ReduxStoreType, SocketStateType>((s) => s.socket);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const handleMessageEvent = (e: any) => {\r\n      const json = JSON.parse(e.data);\r\n      if (json.objects) {\r\n        dispatch(\r\n          saveVideoInfo({\r\n            width: json.width,\r\n            height: json.height,\r\n            fpsCap: json.fpsCap,\r\n            fpsDet: json.fpsDet,\r\n            delay: json.delay,\r\n          }),\r\n        );\r\n        dispatch(saveObjects(json.objects));\r\n      } else {\r\n        dispatch(\r\n          saveServerInfo({\r\n            serverIn: json.serverIn,\r\n            serverOut: json.serverOut,\r\n            version: json.version,\r\n          }),\r\n        );\r\n        dispatch(\r\n          saveFeatures({\r\n            detection: json.detection,\r\n            singleTracking: json.singleTracking,\r\n            faceRedaction: json.faceRedaction,\r\n            stabilization: json.stabilization,\r\n            graphicsDisplay: json.graphicsDisplay,\r\n            cameraCalibration: json.cameraCalibration,\r\n            aruco: json.aruco,\r\n            classes: json.classes,\r\n          }),\r\n        );\r\n      }\r\n    };\r\n    if (isConnect && socket) {\r\n      socket.onmessage = handleMessageEvent;\r\n      socket.onclose = () => {\r\n        dispatch(closeSocket());\r\n      };\r\n      socket.onerror = () => {\r\n        dispatch(\r\n          sendMessage({\r\n            variant: 'error',\r\n            message: 'Unable to connect to the server!',\r\n          }),\r\n        );\r\n        dispatch(closeSocket());\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isConnect, socket]);\r\n  return null;\r\n}\r\n","import { makeStyles } from '@material-ui/styles';\r\nimport clsx from 'clsx';\r\nimport { ReactElement, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NotificationStateType, ReduxStoreType } from '../../models/reduxStore';\r\nimport { hideMessage } from '../../redux/actions/notification';\r\nimport Alert from './Alert';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: '24px',\r\n    transform: 'translateX(-50%)',\r\n    display: 'flex',\r\n    zIndex: 1400,\r\n    position: 'fixed',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  snackbar: {\r\n    display: 'flex',\r\n    padding: '6px 16px',\r\n    fontSize: '1.2rem',\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: 400,\r\n    lineHeight: 1.43,\r\n    borderRadius: '4px',\r\n    letterSpacing: '0.01071em',\r\n    backgroundColor: 'transparent',\r\n    boxShadow:\r\n      '0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)',\r\n    opacity: 0,\r\n    transform: 'scale(0.75, 0.5625)',\r\n    transition: `opacity 195ms cubic-bezier (0.4, 0, 0.2, 1) 0ms, \r\n                  transform 130ms cubic-bezier (0.4, 0, 0.2, 1) 65ms`,\r\n    '&.active': {\r\n      opacity: 1,\r\n      transform: 0,\r\n      transition:\r\n        'opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n    },\r\n  },\r\n  error: {\r\n    color: '#fff',\r\n    fontWeight: 500,\r\n    backgroundColor: 'rgb(244 67 54)',\r\n  },\r\n  warning: {\r\n    color: '#fff',\r\n    fontWeight: 500,\r\n    backgroundColor: 'rgb(255 152 0)',\r\n  },\r\n  info: {\r\n    color: '#fff',\r\n    fontWeight: 500,\r\n    backgroundColor: 'rgb(33 150 243)',\r\n  },\r\n  success: {\r\n    color: '#fff',\r\n    fontWeight: 500,\r\n    backgroundColor: 'rgb(76 175 80)',\r\n  },\r\n}));\r\n\r\nexport default function Snackbar(): ReactElement {\r\n  const classes = useStyles();\r\n  const { variant, message } = useSelector<\r\n    ReduxStoreType,\r\n    NotificationStateType\r\n  >((s) => s.notification);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (message) {\r\n      setTimeout(() => {\r\n        dispatch(hideMessage());\r\n      }, 2000);\r\n    }\r\n  }, [dispatch, message]);\r\n  return (\r\n    <>\r\n      <div className={clsx(classes.container)}>\r\n        <div\r\n          className={clsx(\r\n            classes.snackbar,\r\n            message && 'active',\r\n            variant === 'error' && classes.error,\r\n            variant === 'info' && classes.info,\r\n            variant === 'success' && classes.success,\r\n          )}\r\n        >\r\n          <Alert variant=\"message\">{message}</Alert>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { Provider } from 'react-redux';\r\nimport { ReactElement } from 'react';\r\nimport AppRouter from './routes/AppRouter';\r\nimport reduxStore from './redux/index';\r\nimport Socket from './components/common/Socket';\r\nimport Notification from './components/common/Notification';\r\n\r\nfunction App(): ReactElement {\r\n    return (\r\n      <Provider store={reduxStore}>\r\n        <AppRouter/>\r\n        <Notification/>\r\n        <Socket/>\r\n      </Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { StrictMode } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <App/>\r\n  </StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}